<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Essential tools and techniques - Better Code, Better Science</title><meta property="og:title" content="Essential tools and techniques - Better Code, Better Science"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png"/><meta property="og:image" content="/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png"/><link rel="stylesheet" href="/build/_assets/app-SDGCW62C.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Better Code, Better Science" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Better Code, Better Science</a><a title="Introduction" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/introduction">Introduction</a><a title="Essential tools and techniques" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg myst-toc-item-exact bg-blue-300/30 active" href="/essential-tools-and-techniques">Essential tools and techniques</a><a title="Principles of software engineering" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/software-engineering">Principles of software engineering</a><a title="Software testing" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/testing">Software testing</a><a title="Coding with AI" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/ai-coding-assistants">Coding with AI</a><a title="Project structure and management" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/project-organization">Project structure and management</a><a title="Data Organization and Management" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/data-management">Data Organization and Management</a></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/poldrack/BetterCodeBetterScience" title="GitHub Repository: poldrack/BetterCodeBetterScience" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/poldrack/BetterCodeBetterScience/edit/main/book/essential_tools_and_techniques.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Essential tools and techniques</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78ucp:" data-state="closed"><span class="myst-fm-author-name">Russell Poldrack et al.</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><h2 id="the-tools-and-why-we-use-them" class="relative group"><span class="heading-text">The tools and why we use them</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-tools-and-why-we-use-them" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We hope that the principles and strategies outlined in this book will transcend any particular software platform or programming language, but for the purposes of explication we will focus on a particular language (Python) and a particular set of tools for software development/engineering and AI coding assistance.
Here we briefly outline our motivation for these particular tools.</p><h3 id="why-python" class="relative group"><span class="heading-text">Why Python?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#why-python" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the coding examples in this book we will use the Python programming language.
We have chosen Python first and foremost because it is a language that we know well, as well as being one of the most popular languages today in science.
Python is a relatively high level programming language, which means that it can be understandable (if written correctly) even by someone with relatively little experience.
It is also free and open source, which means that anyone with a computer can download it and run it at no cost.
In addition, Python is a language that has exceptionally good support from AI coding assistants such as GitHub Copilot, which has been trained on a huge corpus of Python code (along with code from many other languages as well).
Python also has a large and growing ecosystem of packages and tools that make it possible to solve many different problems easily.
If you are interested in working on machine learning or AI, the tools in Python are especially good.</p><p>Across many different domains of science there are specialized Python packages to solve domain-specific problems: Examples include <a target="_blank" rel="noreferrer" href="https://www.astropy.org/" class="">astropy</a> (astronomy), <a target="_blank" rel="noreferrer" href="https://geopandas.org/en/stable/getting_started/introduction.html" class="">geopandas</a> (geospatial sciences), <a target="_blank" rel="noreferrer" href="https://quantecon.org/" class="">quantecon</a> (economics), <a target="_blank" rel="noreferrer" href="https://sunpy.org/" class="">sunpy</a> (solar physics), and <a target="_blank" rel="noreferrer" href="https://www.psychopy.org/" class="">psychopy</a>, just to name a few.
We should note that different scientific communities have often converged on particular high-level languages.
The above are some examples of Python packages, but in some fields the ecosystem is much more elaborated in R, Julia, Perl or Matlab.
We hope that most of the lessons in this book will be relevant to these other languages as well.</p><p>If you don’t already know Python, then we suggest that you try to follow along with the examples anyway; our aim is to write them in a way that anyone with a general knowledge of programming should be able to read and understand them.
In some cases we may use programming constructs that are specific to Python; if you are coming from another language and you see something you don’t understand, then we would recommend asking an AI assistant to explain it to you, since current AI tools are very good at explaining the intent of Python code! As we discuss in Chapter XXX, learning a new programming language is a great way to expand your programming skills, and Python is currently a great language to learn.</p><h2 id="version-control" class="relative group"><span class="heading-text">Version control</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#version-control" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Scientists in many fields have traditionally kept a <em>lab notebook</em> to record their experimentation.
This is still the case in domains such as biology where the work often involves manual experimentation at a lab bench.
Many such labs have moved to using electronic lab notebooks, making it much easier to search and find relevant information.
However, an increasing amount of scientific work is now computational, and for this work it would seem somewhat inefficient to record information about the software development process separately from the code that is being written.
There is in fact a tool that can provide the computational researcher with an integrated way to record the history their work, known as <em>version control.</em> While there are many tools that can be used to perform version control, <a target="_blank" rel="noreferrer" href="https://git-scm.com/" class="">git</a> has become by far the most prevalent within the scientific computing ecosystem, largely due to the popularity of the <a target="_blank" rel="noreferrer" href="http://github.com" class="">GitHub</a> website that enables the hosting and sharing of git repositories.</p><p>In this section we will assume that the researcher has a basic knowledge of the <code>git</code> software tool; for researchers looking to learn <code>git</code>, there are numerous resources online, which we will not duplicate; see the suggested resources at the end of this chapter.
Here we will focus on the ways in which version control tools like <code>git</code> can serve as important tools to improve scientific coding.
While there are numerous graphical user interfaces (GUIs) for git (including those offered by various IDEs), we will focus on its use via the command line interface (CLI).
Every researcher should have a basic knowledge of the <code>git</code> CLI, since this is a ubiquitous interface available across all OSes and environments.
The CLI is sometimes the only interface that is available to the researcher, e.g. in a remote session on an HPC system or in the cloud.
Moreover, the CLI provides an immediate exposure to available commands (run <code>git --help</code>) and options for each command (run <code>git COMMAND --help</code>), allowing users to discover a command or option that might not (yet) be exposed by any particular GUI tool.</p><h3 id="how-version-control-works" class="relative group"><span class="heading-text">How version control works</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-version-control-works" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The goal of a version control system is to provide an annotated history of all changes that occur to the tracked files.
Here we will provide a brief overview of the conceptual structure of version control, using the <code>git</code> system as our example.</p><p>The general workflow for version control using <code>git</code> is as follows:</p><ul><li><p>Initial check-in: A file is added to the database.</p></li><li><p>The file is <em>modified</em> by the user, but the changes are not added to the database.</p></li><li><p>The file is <em>added</em> to the staging area, which tracks the changes in the file and marks the new version to be added to the database.</p></li><li><p>The file is <em>committed</em>, which stores it in the base along with a <em>commit message</em> that describes the changes.</p></li></ul><p><strong>TODO</strong>: Provide visualizations for git/github concepts?</p><p>Here is an example using <code>git</code>.
We will create a test directory (outside of our current git repository) and initialize it as a git repository:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; cd /tmp
&gt; mkdir git-test
&gt; cd git-test
&gt; git init
&gt; echo &quot;test file&quot; &gt; test_file.txt
&gt; git status
On branch main

No commits yet

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	test_file.txt

nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>So far our new file is not being tracked, but we can add it to the database:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git add test_file.txt
&gt; git status
On branch main

No commits yet

Changes to be committed:
  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)
	new file:   test_file.txt

</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>It’s now in the staging area, but hasn’t yet been committed to the database, as we can see if we print the log:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git log
fatal: your current branch &#x27;main&#x27; does not have any commits yet
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We can commit the items in the staging area (in this case, just our single added file) to the database and provide a message that labels the commit:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git commit -m&quot;initial add&quot;
[main (root-commit) 752ca80] initial add
 1 file changed, 1 insertion(+)
 create mode 100644 test_file.txt
&gt; git status
On branch main
nothing to commit, working tree clean</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Now that all changes have been committed, we are “clean”, meaning that the files in the directory match exactly to those in the database.
We can see the commit in the git log:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git log
commit 752ca809cd662f846434dcb2c81f3000db640b4e (HEAD -&gt; main)
Author: Russell Poldrack &lt;poldrack@gmail.com&gt;
Date:   Mon Feb 17 07:42:35 2025 -0800

    initial add
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The long string (starting with “752”) is the <em>hash</em> for this commit.
This is a value (generated by a cryptographic algorithm called SHA-1) that uniquely represents all of the changes that were made in this commit.
For example, if we had used a different commit message then the hash would be different.
The commit hash is the way that we refer to commits - for example, if we wanted to change the state of our repository back to an earlier commit we would use the hash of that earlier commit.
We usually don’t need to use the entire hash; the first ~8 letters are usually sufficient.</p><p>The most important role for version control is to track changes in a file, along with notes about those changes.
That is, it can serve as a digital version of a lab notebook! Let’s make a change to the file to see this in action:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; echo &quot;another line&quot; &gt;&gt; test_file.txt # add another line of text
&gt; git diff test_file.txt
diff --git a/test_file.txt b/test_file.txt
index 16b14f5..0db3737 100644
--- a/test_file.txt
+++ b/test_file.txt
@@ -1 +1,2 @@
 test file
+another line
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This provides us with a (somewhat cryptic) description of the changes to the file; the line starting with a “+” denotes the content that was added (in the console this would also be color-coded in green).
We can then add and commit the file and then view the new commit in the log:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git add test_file.txt
&gt; git commit -m&quot;added a second line&quot;
[main 5e8c41a] added a second line
 1 file changed, 1 insertion(+)
&gt; git log

commit 5e8c41a075b2ab2d954d59cab6530d924c5e3e6a (HEAD -&gt; main)
Author: Russell Poldrack &lt;poldrack@gmail.com&gt;
Date:   Mon Feb 17 07:56:09 2025 -0800

    added a second line

commit 752ca809cd662f846434dcb2c81f3000db640b4e
Author: Russell Poldrack &lt;poldrack@gmail.com&gt;
Date:   Mon Feb 17 07:42:35 2025 -0800

    initial add</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Now we can see our latest commit at the top of the list.
If we were to push our repository to GitHub, then we could also see a much more user-friendly graphical view of commit history and the changes that occurred in each commit.
Most IDEs also have an interface to work directly with <code>git</code>; for example, within VSCode there is a <em>Source Control</em> panel that would allow one to do everything that we did above using the command line.</p><h3 id="version-control-as-a-lab-notebook" class="relative group"><span class="heading-text">Version control as a lab notebook</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#version-control-as-a-lab-notebook" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>It is essential for a researcher to keep track of their work as it proceeds, and traditionally this has been done using a written lab notebook.
This has several drawbacks; it’s impossible to search easily, and for researchers with terrible handwriting (like author RP, as seen in <span data-state="closed"><a href="#labnotebook-fig" class="hover-link">Figure <!-- -->1</a></span>) it can often be impossible to later decipher what the notes actually mean.</p><figure id="labnotebook-fig" class="fig-figure"><img id="WATkBQYT2n" style="width:400px;margin-left:auto;margin-right:auto" src="/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png" alt="Scan of a page from Russ’s lab notebook circa 2000." data-canonical-url="images/lab_notebook_scan.png" class=""/><figcaption class="group"><p><a class="no-underline text-inherit hover:text-inherit mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold select-none hover:underline" href="#labnotebook-fig" title="Link to this figure" aria-label="Link to this figure">Figure <!-- -->1<!-- -->:</a>Scan of a page from Russ’s lab notebook circa 2000.</p></figcaption></figure><h3 id="version-control-best-practices" class="relative group"><span class="heading-text">Version control best practices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#version-control-best-practices" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Version control systems like <code>git</code> can serve as an outstanding alternative to a written lab notebook for the computational researcher, but only if it used well.
Here are a few best practices for ensuring good record-keeping:</p><h4 id="use-a-consistent-standard-format-for-commit-messages" class="relative group"><span class="heading-text">Use a consistent standard format for commit messages</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#use-a-consistent-standard-format-for-commit-messages" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Using a particular format consistently will make it much easier to understand and search your history later on.
Here is one simple format that one might use for commit messages:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">&lt;type&gt;: &lt;summary&gt;

&lt;optional longer description&gt;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The <em>type</em> tag describes the type of change, which could include tags like <em>feature</em>, <em>bugfix</em>, <em>refactor</em>, <em>doc</em>, <em>test</em>, and <em>cleanup</em>.</p><p>The <em>summary</em> should include a brief summary (usually less than 72 characters) that summarizes what was done.
You should avoid using generic or vague summaries such as “update” or “fix bug”.</p><p>By <code>git</code> convention, commit messages should be written in imperative mood, as if one is giving a command.
For example, the message might say “add test for infinite edge case” rather than “added test for infinite edge case”.</p><p>Here is a example:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">refactor: Make crossvalidation function cleaner

The previous function was written in a way that was 
not clean, using badly named variables and confusing 
programming constructs.  The new code fixes these 
issues while still passing all tests.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="explain-intent-rather-than-code" class="relative group"><span class="heading-text">Explain intent rather than code</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#explain-intent-rather-than-code" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>A good commit message should explain what problem was being solved and why the change was necessary, rather than detailing the specific code changes.
The code changes are already evident from the change log, so the message should focus instead on details that are not evident from looking at the code itself.
For example:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">feature: Enable use of multiple APIs

Previously the function only worked with the OpenAI API.
This change generalizes it to allow any endpoint that 
follows the OpenAI API conventions.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><h4 id="a-single-commit-should-reflect-solution-of-a-particular-problem" class="relative group"><span class="heading-text">A single commit should reflect solution of a particular problem</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#a-single-commit-should-reflect-solution-of-a-particular-problem" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>One of the tricky aspects of learning to use version control is learning when to commit.
One rule of thumb is that a commit should reflect a group of changes that solve a particular problem.
For example, say that we have modified three source files to add the multiple API functionality listed above.
We could on the one hand add and commit the changes from each file separately, leading to three separate commits.
This is too granular; if we later decide that we want to roll back those changes (which could be difficult depending on commit messages and our memory), we have to identify the three separate commits and then roll back each one separately.
At the other extreme, it’s not uncommon for users to check in all of the work that was done in a day, with a commit message like “all work from Tuesday”.
If one were to later decide that part of the work from that day needed to be rolled back, it would require a lot of extra work to isolate just those changes.
The sweet spot for committing is to commit changes that represent a functional bundle, or that solve a particular problem.
Thinking about the commit message can be helpful in considering when to commit; if it’s difficult to give a concise functional description to the specific set of changes being committed, then the commit may be either too narrow or too broad.</p><h4 id="avoid-blanket-add-commit-operations" class="relative group"><span class="heading-text">Avoid blanket add/commit operations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#avoid-blanket-add-commit-operations" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Another common <code>git</code> “anti-pattern” (i.e. a commonly used but bad solution to a common problem) is to simply add all files using <code>git add .</code> (which adds all files in the current directory, including those that have not been added) or <code>git add -A</code> (which does the similar thing recursively for the entire directory tree).
This kind of “blanket add/commit” is problematic for at least two reasons.
First, there are often files that we don’t want to add to version control, such as files containing credentials or files with details about the local system configuration.
While we would usually want to add these files to our <code>.gitignore</code> file (which prevents them from being added), it’s best practice to explicitly add files that we are working on.
A second reason to avoid blanket add/commit is that if we are working on more than one problem at a time, the resulting commit will bundle together files that address different problems and thus prevent writing a clean commit message as well as prevent a clean reversion of that code later.
It would also require knowing exactly which files have been added in order to create an accurate commit message.
The only time that we can imagine a blanket add/commit being reasonable is when one is initially creating a repository using a large number of files.</p><p>A better practice is to explicitly name all files being added, which forces one to think about exactly what problem the commit is solving.
If one is certain that they know exactly which code files have been changed, then a useful alternative can be to only add modified files (using <code>git add -u</code>), which can save a bit of time if there are numerous files being added.
However, it’s important to make sure that the commit message always faithfully reflects the totality of the changes.</p><h3 id="version-control-as-developer-productivity-tool" class="relative group"><span class="heading-text">Version control as developer productivity tool</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#version-control-as-developer-productivity-tool" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>So far we have discussed version control primarily as a way to record the history of software development.
But an arguably even more powerful aspect of version control is the way that it enables developer productivity by allowing one to try our new changes and easily revert to a previous version.
It’s useful to first examine how this might be done without version control.
Suppose a developer has a codebase and wants to try out a major change, such as changing the database backend used in the project.
They would usually save a copy of all of the source files (perhaps with a timestamped label), and then start working on the problem.
If at some point they wish to completely abandon the new project, they can always go back to the copy of the original.
But what if they want to abandon the latest part (e.g. a specific database) without necessarily abandoning the rest of the work that it took to get there? Unless they are saving copies at every step (which quickly becomes a bookkeeping nightmare), this will be very challenging to pull off.
On the other hand, with a solid version control workflow these problems are trivial to solve, because these systems are built exactly in order to solve this bookkeeping problem.</p><h4 id="falling-back-on-previous-commits" class="relative group"><span class="heading-text">Falling back on previous commits</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#falling-back-on-previous-commits" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>We will start first with a simple example that only involves the <code>main</code> branch of the repository; if you don’t know what a “branch” is, this would be a good time to seek out your favorite <code>git</code> resource and learn about that concept.
Later we will suggest that working directly in the main branch is not optimal, but it’s common for many research projects with a single developer so we will start there, fitting with our mantra that we should never let the perfect be the enemy of the good.</p><p>Let’s say that we wish to try changing out the database backend for our project, which will require changes to several of the source files.
Starting with a clean working tree (i.e. no uncommitted changes or untracked files not included in <code>.gitignore</code>), we would first create a new tag so that we can easily find the last commit in case we decide that we want to revert back to it:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">git tag v0.2-pre-db-change</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We then start developing on the new code, committing as usual.
Let’s say that we make a few commits on the new code, but then go down a road that we decide to abandon.
It’s easy to get back to the last commit simply by typing <code>git reset --hard HEAD</code>, which takes the code back to the state it was in at the last commit (known as “HEAD”).
In the case that we decide to abandon the entire project and want to go back to the state of the code when we started (which is denoted by the tag we created), we simply need to find the hash for that commit and then check out that version of the repository:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git show v0.2-pre-db-change
commit 5e8c41a075b2ab2d954d59cab6530d924c5e3e6a (HEAD -&gt; main, tag: v0.2-pre-db-change, tag: v0.2)
&gt; git checkout 5e8c41a07 .
&gt; git commit -m&quot;&quot;&quot;
cleanup: Revert attempted database backend switch

We tried to replace the database backend but realized after some
development that this would not solve our problem, so we are reverting
back to the original code.&quot;&quot;&quot;

On branch main
nothing to commit, working tree clean</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>A look at the <code>git log</code> will now show that the HEAD matches the hash for the tagged commit.</p><h4 id="using-branches" class="relative group"><span class="heading-text">Using branches</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#using-branches" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>All <code>git</code> repositories start with a single default branch, usually called “main” (or sometimes the previous convention, “master”).
While it’s possible to develop completely within the main branch of a repository, we generally prefer to use <em>development branches</em>, which can be thought of as different versions of the repository.
In our preferred workflow, whenever we want to modify code we first create and then check out a new branch, in which we will do that work.
One great benefit of this is that if the main branch was working when we created the development branch, it will remain in a working state even as we make our changes in the new branch.
This provides much greater freedom to try out changes with no concern about breaking existing code, and also allows development to proceed without interfering with production code.</p><p>It’s important to name branches in way that makes clear what their purpose is.
It is customary to use a prefix that states the general purpose of the branch; common prefixes including “feature/” (for new features), “bugfix/” (for bug fixes), “release/” (for a new package release), “docs/” (for documentation changes), and “test/” (for testing-related changes).
The prefix should be followed by a description of the purpose of the branch.
For example, for our example above we might use “feature/swap-db-backend”.</p><p>We can create a new branch and check it out (making it the current branch) using <code>git checkout</code>:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; git branch
* main
&gt; git checkout -b feature/swap-db-backend
Switched to a new branch &#x27;feature/swap-db-backend&#x27;
&gt; git branch
* feature/swap-db-backend
  main</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We can now go about our development work, committing as usual to the branch.
If we were to later decide to abandon the new branch, we simply check out the main branch, and we are right back where we left off before creating the new branch.
We could either delete the feature branch (to keep the repository clean), or keep it around in case we wish to go back later and look at it again.</p><h3 id="collaborative-development-using-github" class="relative group"><span class="heading-text">Collaborative development using GitHub</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#collaborative-development-using-github" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>While git is very useful for the individual developer, it becomes even more powerful when used for collaborative development amongst a group of developers.
For <code>git</code> users this is enabled by the popular <a target="_blank" rel="noreferrer" href="http://github.com" class="">GitHub</a> web platform for version control.
We will assume a basic familiarity with the use of GitHub: see the Suggested Resources at the end of the chapter for resources to learn how to use GitHub.</p><p>Collaborative development requires choosing a workflow that the team will adhere to; a commonly used workflow for GitHub users is the <a target="_blank" rel="noreferrer" href="https://docs.github.com/en/get-started/using-github/github-flow" class="">GitHub flow</a>, which goes as follows.
Let’s say that we have two developers on our team, and one of them wants to attempt the database backend project that we described above.
The process would be:</p><ol start="1"><li><p>The developer creates a branch within the repo, giving it a a clear and expressive name such as “feature/swap-db-backend”. They develop their code within this branch.</p></li><li><p>If the user doesn’t have write access to the repo, they first create a <em>fork</em> of the repo, which copies it to their own account and thus allows write access.</p></li><li><p>Once the feature is complete, they commit and push all of their changes to the repository on GitHub.</p></li><li><p>They then create a <em>pull request</em>, which requests that the code in their branch be merged into the main branch of the primary repository.</p></li><li><p>Another developer on the team reviews the pull request, and provides comments suggesting changes to the code.</p></li><li><p>Once the reviewer’s comments are addressed, the code from the branch is merged into the main branch, so that the changes are now incorporated there.</p></li><li><p>After merging, the branch is deleted to keep the repository clean.</p></li></ol><p>This type of collaborative development process powers many of the large open source projects that are commonly used today, but can be equally transformative for small groups such as a individual research lab.</p><h2 id="virtual-environments" class="relative group"><span class="heading-text">Virtual environments</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#virtual-environments" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>When developing software, it is essential to have a way to manage the many dependencies and software versions that are necessary, particularly for a language like Python that has a broad landscape of packages.
This problem is generally solved using <em>virtual environments</em>, which provide a way to isolate a specific set of software dependencies necessary for a project.</p><p>This is important for several reasons.
First, it allows different projects to use different versions of specific packages without interfering with one another.
One often finds the need to install an older version of a particular dependency, or an older version of Python, in order to use a specific tool.
Without virtual environments, managing different dependencies across projects can become impossible.
If one project requires Python ≤3.9 while another needs Python ≥3.12, conflicts arise that virtual environments can easily resolve.
Second, because the virtual environment specifies the exact version of each dependency and allows these to be exported, it is possible for other users on different machines to exactly recreate the package environment required by the author (assuming that those package versions are available on the users’s operating system).
This can greatly enhance the reproducibility of computational analyses across systems, and can also ease the implementation of software across multiple machines (e.g. when one wants to move code from a local machine into the cloud).
On shared computing systems (such as academic computing clusters), virtual environments let users install their own packages without needing admin access.</p><p>A virtual environment is at its heart simply a directory structure that contains a specified set of executables and software dependencies.
When the virtual environment is <em>activated</em> using a special command, these directories are added to the system paths, allowing them to be accessed just like any software installed centrally on the system.
They can be easily removed from the path by deactivating the environment.</p><p>There are numerous tools within the Python ecosystem for package management and virtual environments, to the degree that some have called it an <a target="_blank" rel="noreferrer" href="https://dublog.net/blog/so-many-python-package-managers/" class="">“inexcusable pain in the ass”</a>.
We will focus on two solutions here (uv and conda), realizing that things will change over time and these recommendations will likely need to be updated (living textbooks FTW!).</p><h3 id="environment-management-using-uv" class="relative group"><span class="heading-text">Environment management using <em>uv</em></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environment-management-using-uv" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><a target="_blank" rel="noreferrer" href="https://docs.astral.sh/uv/" class="">uv</a> is a relatively new package management tool that has quickly gained momentum in the Python community, in large part because of its speed (10-100x faster than older tools) and its efficient use of disk space.
To start, we simply initialize a new project, marking it as a package so that it will create the appropriate code structure:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; uv init --package uv_example
Initialized project `uv-example` at `/private/tmp/uvtest/uv_example`
&gt; tree uv_example
uv_example
├── pyproject.toml
├── README.md
└── src
    └── uv_example
        └── __init__.py</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>We can then create a new virtual environment using the command <code>uv venv</code>.
This is stored within the directory <code>.venv</code>.</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; cd uv_example
&gt; uv venv
Using CPython 3.13.1
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate
&gt; tree .venv
.venv
├── bin
│   ├── activate
│   ├── activate.bat
│   ├── activate.csh
│   ├── activate.fish
│   ├── activate.nu
│   ├── activate.ps1
│   ├── activate_this.py
│   ├── deactivate.bat
│   ├── pydoc.bat
│   ├── python -&gt; /Users/poldrack/.local/share/uv/python/cpython-3.13.1-macos-aarch64-none/bin/python3.13
│   ├── python3 -&gt; python
│   └── python3.13 -&gt; python
├── CACHEDIR.TAG
├── lib
│   └── python3.13
│       └── site-packages
│           ├── _virtualenv.pth
│           └── _virtualenv.py
└── pyvenv.cfg</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>One thing to note here is that the <code>python</code> executable is actually a symbolic link to a version that is in a central location (under <code>.local/share/uv</code>).
This means that we can create numerous virtual environments, but there will only be one copy of that particular version of Python, saving space on disk.</p><p>We can activate the environment by running its activation script, after which we see that the system path will point to the virtual environment:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; which python
python not found
&gt; source .venv/bin/activate
&gt; which python
python is /private/tmp/uvtest/uv_example/.venv/bin/python</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>If we wish to add dependencies, we can simply do this using <code>uv add</code>:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; uv add numpy
Resolved 2 packages in 394ms
   Built uv-example @ file:///private/tmp/uvtest/uv_example
Prepared 2 packages in 431ms
Installed 2 packages in 8ms
 + numpy==2.2.3
 + uv-example==0.1.0 (from file:///private/tmp/uvtest/uv_example)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Here again, if we load this module within Python we will see that it is located within the virtual environment:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; python
Python 3.13.1 (main, Dec 19 2024, 14:22:59) [Clang 18.1.8 ] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import numpy
&gt;&gt;&gt; print(numpy.__file__)
/private/tmp/uvtest/uv_example/.venv/lib/python3.13/site-packages/numpy/__init__.py</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>The details regarding the package are stored within a file called “pyproject.toml” in the main project directory.
Looking inside this file we can see that it contains details about the packages that have been added, including the specific version:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">&gt; more pyproject.toml
[project]
name = &quot;uv-example&quot;
version = &quot;0.1.0&quot;
description = &quot;Add your description here&quot;
readme = &quot;README.md&quot;
authors = [
    { name = &quot;Russell Poldrack&quot;, email = &quot;poldrack@gmail.com&quot; }
]
requires-python = &quot;&gt;=3.13&quot;
dependencies = [
    &quot;numpy&gt;=2.2.3&quot;,
]

[project.scripts]
uv-example = &quot;uv_example:main&quot;

[build-system]
requires = [&quot;hatchling&quot;]
build-backend = &quot;hatchling.build&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This file allows one to specify many other details about a Python package.
It not only stores dependencies but also metadata about the project, making it useful for packaging and distribution, and learning more about its features is important for anyone looking to develop Python packages.</p><h4 id="locking-dependencies-in-uv" class="relative group"><span class="heading-text">Locking dependencies in uv</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#locking-dependencies-in-uv" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Computational reproducibility requires that we be able to exactly recreate an environment, including the specific versions of all packages.
If you look at the <code>pyproject.toml</code> file you will see that it doesn’t specify exact versions for Python or the dependencies; instead, it specifies a lower bound; i.e. “numpy&gt;=<strong>DECIMAL_0</strong>.3” means that the numpy version should be at least <strong>DECIMAL_0</strong>.3, but could be higher if a newer version became available.
This is often fine, but for purposes of reproducibility we often wish to record the exact package versions that were used for a particular analysis.
This is commonly done using a <code>requirements.txt</code> file, and <code>uv</code> allows exporting the current environment to such a file:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-bash" style="white-space:pre">&gt; uv pip compile pyproject.toml -o requirements.txt
Resolved 1 package in 78ms
# This file was autogenerated by uv via the following command:
#    uv pip compile pyproject.toml
numpy==2.2.3
    # via uv-example (pyproject.toml)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>This brief overview only scratches the surface of the many features within <code>uv</code>, which we recommend you explore in detail via the project documentation.</p><h3 id="environment-management-using-conda" class="relative group"><span class="heading-text">Environment management using <em>conda</em></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#environment-management-using-conda" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Another popular tool for managing virtual environments is <code>conda</code>.
It has much of the same functionality as uv and has been around much longer, but we have largely moved away from it for most projects for several reasons: <code>uv</code> is relatively more efficient when it comes to disk space and it is often faster than conda, especially as environments start to have many packages installed.
In addition, there are sometimes conflicts between conda’s native package management and the <code>pip</code> package management system.
When using conda it’s usually necessary to use <code>pip</code> to install some packages that aren’t available within the conda library, but this can result in conflicts between the two package management systems.</p><p>There is one important way in which <code>conda</code> differs from <code>uv</code>.
In fact, I switched to <code>uv</code> in 2024 after being a long-time user of <code>conda</code>, but I still use <code>conda</code> for some projects.
The crucial feature of <code>conda</code> that has kept us using it for a limited set of projects is its ability to manage non-Python software elements alongside Python packages.
We have found on a couple of occasions that some Python packages have dependencies that rely upon non-Python software components.
Specifically, in cases where Python packages required a specific component (the LLVM compiler), we were unable to easily get the specific required version of that component working on our Mac using <code>uv</code>, whereas <code>conda</code> simply installs the required component and works out of the box.
The speed and efficiency of <code>uv</code> generally outshine <code>conda</code> in our experience, but in some cases <code>conda</code> may help solve tricky non-Python dependency issues.</p><p><strong>TODO</strong>: Add section on Pixi?</p><h2 id="large-language-models" class="relative group"><span class="heading-text">Large language models</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#large-language-models" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><figure id="gpt4haiku-fig" class="fig-figure"><img id="oh8gbwPdRj" style="width:400px;margin-left:auto;margin-right:auto" src="/build/gpt4_haiku-2bbc40d30278e3c92e47bd65381b21a6.png" alt="Haiku generated by GPT-4 from the prompt: “Please generate a haiku that reflects on the experience of writing a book about coding for science using AI.”" data-canonical-url="images/gpt4_haiku.png" class=""/><figcaption class="group"><p><a class="no-underline text-inherit hover:text-inherit mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold select-none hover:underline" href="#gpt4haiku-fig" title="Link to this figure" aria-label="Link to this figure">Figure <!-- -->2<!-- -->:</a>Haiku generated by GPT-4 from the prompt: “Please generate a haiku that reflects on the experience of writing a book about coding for science using AI.”</p></figcaption></figure><p>Large language models (LLMs) power tools like ChatGPT, enabling them to generate human-like text responses, such as the haiku shown in <span data-state="closed"><a href="#gpt4haiku-fig" class="hover-link">Figure <!-- -->2</a></span>.
Understanding how these models function can help users make better use of AI coding assistants.
This section provides a brief introduction to LLMs, focusing on their structure, capabilities, and limitations.</p><h3 id="a-brief-history-of-neural-networks" class="relative group"><span class="heading-text">A brief history of neural networks</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#a-brief-history-of-neural-networks" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>LLMs are a type of <em>artificial neural network</em>, which are computer models composed of a huge number of computing units that are loosely patterned after neurons in the brain.
Artificial neural networks were first developed in the 1940s, only to be abandoned by AI researchers after the early versions were shown to have major limitations in the kinds of problems they could solve.
There was a renaissance of neural network research in the 1980’s and 1990’s arising primarily from researchers in cognitive science, but interest again waned as the field of <em>machine learning</em> developed tools that were able to solve many of the same problems in a computationally simpler manner.
It was not until the late 2000’s that the latest wave of interest in neural networks came about, building on the development of methods that allowed researchers to effectively train neural networks with many layers, known as <em>deep neural networks</em> (hence the common term <em>deep learning</em>).
These methods, together with the realization that graphical processing units (GPUs) could be used to train these models much more quickly and the development of large datasets for model training, led to early advances in the mid 2010’s, particularly in the domain of image recognition.</p><h3 id="how-llms-are-built-and-trained" class="relative group"><span class="heading-text">How LLMs are built and trained</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-llms-are-built-and-trained" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The LLMs that are most prominent today, such as GPT-4, Claude, and Google Gemini, are based on a specific neural network architecture known as a <em>transformer</em>, which was first introduced in 2017 <span class="cite-group parenthetical"><cite class="" data-state="closed"><a href="https://arxiv.org/abs/1706.03762" target="_blank" rel="noreferrer" class="hover-link">Vaswani <em>et al.</em>, 2017</a></cite></span>.
Transformers were developed in order to effectively learn how to map one sequence to another sequence, such as in the case of translating from a sentence in one language to a sentence in another.
However, large transformers trained on massive datasets have since shown themselves to be able to adapt to many different types of problems that they were never explicitly trained to perform.
For this reason, these models (along with other kinds of large pre-trained models) have been referred to as <em>foundation models</em> <span class="cite-group parenthetical"><cite class="" data-state="closed"><a href="https://arxiv.org/abs/2108.07258" target="_blank" rel="noreferrer" class="hover-link">Bommasani <em>et al.</em>, 2022</a></cite></span>.</p><p>One important feature of foundation models is that they are generally trained in a “self-supervised” way, which means that we don’t explicitly have to tell the model how it should respond for any particular input.
This enables training on very large datasets, since the data don’t need to be explicitly labeled.
In the case of GPT-4 and other similar models, they are simply given large sequences of text and trained to accurately predict the next <em>token</em> (which could refer to words, parts of words, or other elements).
Note that the models themselves don’t actually see text; instead, the text is <em>tokenized</em> to convert it into numbers before it is input to the model, and the output of the model is then decoded to convert from numerical tokens back to language.
LLMs like GPT-4 are trained on massive amounts of text, numbering in the trillions of tokens.
The model is trained to become increasingly better at predicting the next token by changing the <em>weights</em> (the strength of connections between the different units) in the model in a way that tries to incrementally correct its errors, which after many hours of training across many GPUs results in a model that can perform the prediction task well.</p><p>After this training, the model has a lot of knowledge but is often not very well behaved, so model-builders generally do some form of <em>fine-tuning</em> after initial training of the model, primarily to train it to perform in a way that is more amenable to being a helpful chatbot.</p><h3 id="open-source-language-models" class="relative group"><span class="heading-text">“Open Source” language models</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#open-source-language-models" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The large commercial models such as GPT-4, Claude, and Gemini are truly “black boxes” in the sense that we have no access to how they work internally or how they were trained.
However, in the last few years an ecosystem of “open source” language models has burgeoned, allowing researchers to run powerful pre-trained models on their own computing hardware and providing some degree of insight into the function of the model.
It’s important to point out that the label “open source” is in many cases a misnomer, since it’s relatively rare for the authors of these models to give full access to all of the code and data that went into training the model.
Many of them are better described as “open-weight” models (a term we will use throughout this book), since the model weights and code necessary to perform inference are made openly available even if the training code and data are not.
Despite these limitations, the availability of these open-ish models has given researchers the opportunity to work more closely with these models and see into their inner workings.
They also allow users to perform further fine-tuning to augment model performance in particular domains.</p><table class=""><tbody><tr class=""><th class="">Feature</th><th class="">Open-Weight LLMs</th><th class="">True Open Source LLMs</th></tr><tr class=""><td class="">Model weights available?</td><td class="">✅ Yes</td><td class="">✅ Yes</td></tr><tr class=""><td class="">Training data available?</td><td class="">❌ No</td><td class="">✅ Yes</td></tr><tr class=""><td class="">Training code available?</td><td class="">❌ No</td><td class="">✅ Yes</td></tr><tr class=""><td class="">Can be fine-tuned?</td><td class="">✅ Yes</td><td class="">✅ Yes</td></tr></tbody></table><p>Running large open source models with tens of billions of parameters (such as the well known Llama models released by Meta) can require significant GPU resources, but many of these models are also released in smaller versions that can be run with reasonable speed on a laptop with a GPU; for the examples in this book, all of the examples are run on a Macbook Pro M3 Max laptop.
Users wishing to run the larger open-weight models can access them via service providers who provide API access to these models for a fee.
We will discuss working with APIs in Chapter XXX.</p><p>As an example of what we can do with open-weight language models, suppose that we want to compare the output of models before and after instruction tuning.
While we can’t access versions of commercial models such as GPT-4 prior to instruction tuning, there are a large number of open-weight models for which both versions are available.
We will show results from the Qwen1.5-0.5B model, which is very small and thus runs relatively quickly even on a laptop.</p><p>To see the difference that this fine-tuning makes, we can give the same prompt to a model with and without instruction tuning: “What is the best way to relax after a long day of Python coding?”</p><p>Here is the result from the model without instruction tuning:</p><p>“Going for a walk or having a drink with friends is a great way to relax after a long day of Python coding.
system
You are a helpful assistant.
user
ow can I generate an XML representation of a list of employees with their corresponding departments and salaries using C# code? And once the XML is generated, how can I parse and print the data to a new file? Can you provide a example of the XML data that I can modify in the code to generate the XML representation?
Here’s an example of the XML data that I can modify to generate the XML representation: ... [continues with XML output]”</p><p>It’s not a very helpful response, and it’s also followed by a bunch of content that is irrelevant to the prompt.
By comparison, the instruction-tuned version of the same model gives a much better response:</p><p>“Relaxing after a long day of Python coding can be a great way to recharge and refocus.
Here are some tips that might help you relax:
1. Exercise: Engage in physical activity such as yoga, stretching, or running to get your blood flowing and reduce stress levels.
2. Listen to music: Listening to calming music can help reduce anxiety and promote relaxation.
3. Take a break: Taking a short break from work or programming can help you recharge and refocus.
4. Practice mindfulness: Mindfulness meditation can help you focus on the present moment and reduce stress levels.
5. Eat healthy: Eating a balanced diet rich in fruits, vegetables, whole grains, and lean protein can help you feel more energized and less stressed.
6. Connect with others: Spending time with friends or family can help reduce feelings of loneliness and increase feelings of support.
7. Write down your thoughts: Writing down your thoughts and emotions can help you process them and relax.
Remember, it’s important to take care of yourself both physically and mentally before returning to work.
By taking these steps, you can help ensure that you can return to work feeling refreshed and ready to tackle any challenges that come your way.”</p><h3 id="in-context-learning-and-llm-prompting" class="relative group"><span class="heading-text">In-context learning and LLM prompting</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#in-context-learning-and-llm-prompting" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Once the training of the model is complete, its weights are fixed and the model itself does not change unless additional training or fine-tuning is applied.
Given this, how is it that these models can exhibit such a wide range of behaviors, and how can they adapt to the details of a particular chat session? It turns out that the model is “learning” from all of the interactions that occur within a specific chat session, but this learning does not occur through modifications of the model’s weights.
Instead, it occurs as the model builds up a store of information within its <em>context window</em>, which you can think of as the model’s “working memory”, similar to the way that we can hold a phone number in our mind but lose it as soon as we stop rehearsing it.
The model’s response at any point in time is conditioned upon all of the content that has occurred up to that point in the chat session, up to the limit of its context window (which is now large enough for most models to hold a substantial amount of text).
In this way, the model can “learn” without requiring any lasting changes in its structure.</p><p>Understanding in-context learning is important for LLM power-users because it relates directly to the effectiveness of different prompting strategies.
In particular, it suggests that an effective prompt should help build up enough relevant information in the context window that other relevant information is likely to be retrieved.
We will return later in the book to the utility of prompting strategies.</p><h3 id="randomness-in-llms" class="relative group"><span class="heading-text">Randomness in LLMs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#randomness-in-llms" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>When an output is generated from an LLM, it doesn’t uniquely specify a particular token to be output next.
Instead, it outputs a set of values that are transformed into probabilities over tokens, and the next token is then chosen based on those probabilities.
As an example, we can run the same prompt five times (‘Output a random vegetable.’) on a small LLM (Qwen-2.5-0.5B-Chat), removing any extraneous text generated by the model:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">Sure, here&#x27;s a random vegetable: Green beans
Sure, here&#x27;s a random vegetable: Tomato
Sure, here&#x27;s a random vegetable: broccoli!
Sure, here&#x27;s a random vegetable: Spinach.
Sure, here&#x27;s a random vegetable: Veggie: Broccoli</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>In this case we ran each prompt with a different <em>random seed</em>, which is a value that allows one to reproducibly generate a set of random numbers.
Open source models, as well as some commercial models, allow specifying the random seed when submitting a prompt, usually requiring use of the API.</p><p>When choosing amongst the possible responses based on their probabilities, one could simply always output the token with the highest probability, which is known as “greedy” selection.
However, LLMs often introduce some variability in output (via a <em>softmax</em> operator).
This procedure has a parameter known as <em>temperature</em> that allows one to scale the degree of randomness, from deterministic (greedy) responding when temperature = 0 to greater randomness at temperature increases.
These systems often default to a small degree of randomness (with temperature in the range of 0.7) to allow some exploration without enabling surprising or bizarre responses.</p><h3 id="reproducibilty-challenges-of-llms" class="relative group"><span class="heading-text">Reproducibilty challenges of LLMs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#reproducibilty-challenges-of-llms" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The randomness of large language models is particularly important for researchers using them in contexts where reproducibilty is important.
Research performed using commercial/closed large language models should be considered irreproducible in principle; even if one records the system fingerprint (uniquely specifying which model was run) and sets the random seed, there is no guarantee that these models will remain available.
As an example, OpenAI has <a target="_blank" rel="noreferrer" href="https://platform.openai.com/docs/deprecations" class="">deprecated a number of models</a>, including the widely used <code>text-davinci-002</code> model, meaning that they are no longer available to users.
Research performed on open-weight models is in theory reproducible if the random seed is specified along with the specific model version used.
However, in many cases it is also important to ensure that any results obtained using LLMs are robust to the specific random seed chosen.
One should <em>never</em> cherry pick scientific results by trying different random seeds and only reporting the results that are most consistent with the hypothesis being tested; we refer to this as “seed-hacking”, on analogy to the commonly used term “p-hacking”.</p><h2 id="suggested-resources" class="relative group"><span class="heading-text">Suggested Resources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#suggested-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="git-github" class="relative group"><span class="heading-text">Git/github</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#git-github" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p><a target="_blank" rel="noreferrer" href="https://matthew-brett.github.io/curious-git/index.html" class="">The curious coder’s guide to git</a></p></li></ul><h3 id="virtual-environments-1" class="relative group"><span class="heading-text">Virtual environments</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#virtual-environments-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p>TBD</p></li></ul><h3 id="large-language-models-1" class="relative group"><span class="heading-text">Large language models</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#large-language-models-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p><a target="_blank" rel="noreferrer" href="https://stanford-cs324.github.io/winter2022/" class="">Stanford’s CS324 - Large Language Models</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://magazine.sebastianraschka.com/p/coding-llms-from-the-ground-up" class="">Coding LLMs from the ground up</a> - A set of videos by Sebastian Raschka that accompany his book on Learning LLMs from Scratch <a target="_blank" rel="noreferrer" href="https://github.com/rasbt/LLMs-from-scratch" class="">LLMs from scratch</a> but also serve as a standalone introduction.</p></li></ul><div class="myst-backmatter-parts"></div><section id="references" class="myst-bibliography article-grid subgrid-gap col-screen"><div><header class="myst-bibliography-header text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="myst-bibliography-item break-words" id="cite-Vaswani:2017aa">Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., Kaiser, L., & Polosukhin, I. (2017). <i>Attention Is All You Need</i>. <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/1706.03762">https://arxiv.org/abs/1706.03762</a></li><li class="myst-bibliography-item break-words" id="cite-Bommasani:2022aa">Bommasani, R., Hudson, D. A., Adeli, E., Altman, R., Arora, S., von Arx, S., Bernstein, M. S., Bohg, J., Bosselut, A., Brunskill, E., Brynjolfsson, E., Buch, S., Card, D., Castellon, R., Chatterji, N., Chen, A., Creel, K., Davis, J. Q., Demszky, D., … Liang, P. (2022). <i>On the Opportunities and Risks of Foundation Models</i>. <a target="_blank" rel="noreferrer" href="https://arxiv.org/abs/2108.07258">https://arxiv.org/abs/2108.07258</a></li></ol></div></section><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/introduction"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Better Code, Better Science</div>Introduction</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/software-engineering"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Better Code, Better Science</div>Principles of software engineering</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/build/_shared/chunk-N76G4W6Y.js"/><link rel="modulepreload" href="/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-AA24SA6C.js"/><link rel="modulepreload" href="/build/_shared/chunk-AH7OE64W.js"/><link rel="modulepreload" href="/build/routes/$-5SFLQWPV.js"/><script>window.__remixContext = {"url":"/essential-tools-and-techniques","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/BetterCodeBetterScience/BetterCodeBetterScience/book/references.bib"],"exports":[],"title":"Better Code, Better Science","authors":[{"nameParsed":{"literal":"Russell Poldrack et al.","given":"Russell Poldrack","non_dropping_particle":"et","family":"al."},"name":"Russell Poldrack et al.","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/poldrack/BetterCodeBetterScience","toc":[{"file":"frontmatter.md"},{"file":"introduction.md"},{"file":"essential_tools_and_techniques.md"},{"file":"software_engineering.md"},{"file":"testing.md"},{"file":"AI_coding_assistants.md"},{"file":"project_organization.md"},{"file":"data_management.md"}],"index":"index","pages":[{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"/build/x_poll-abfbc03b9429f4582a63becc61a76b2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"essential-tools-and-techniques","title":"Essential tools and techniques","description":"","date":"","thumbnail":"/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"software-engineering","title":"Principles of software engineering","description":"","date":"","thumbnail":"/build/code_formatting-5f7533d0e3a713101d0fbc3e66a69964.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"testing","title":"Software testing","description":"","date":"","thumbnail":"/build/github_actions_failu-25d4b04ead335da5128a6f4198042f8f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ai-coding-assistants","title":"Coding with AI","description":"","date":"","thumbnail":"/build/claudecode_1-4601a738e37b4cde8a7e2fe367fdebb4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"project-organization","title":"Project structure and management","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data-management","title":"Data Organization and Management","description":"","date":"","thumbnail":"/build/data_lifecycle_rdmki-c0d23e77929147e6d7b27f41bae7bb87.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"folders":true},"nav":[],"actions":[],"projects":[{"bibliography":["/home/runner/work/BetterCodeBetterScience/BetterCodeBetterScience/book/references.bib"],"exports":[],"title":"Better Code, Better Science","authors":[{"nameParsed":{"literal":"Russell Poldrack et al.","given":"Russell Poldrack","non_dropping_particle":"et","family":"al."},"name":"Russell Poldrack et al.","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/poldrack/BetterCodeBetterScience","toc":[{"file":"frontmatter.md"},{"file":"introduction.md"},{"file":"essential_tools_and_techniques.md"},{"file":"software_engineering.md"},{"file":"testing.md"},{"file":"AI_coding_assistants.md"},{"file":"project_organization.md"},{"file":"data_management.md"}],"index":"index","pages":[{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"/build/x_poll-abfbc03b9429f4582a63becc61a76b2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"essential-tools-and-techniques","title":"Essential tools and techniques","description":"","date":"","thumbnail":"/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"software-engineering","title":"Principles of software engineering","description":"","date":"","thumbnail":"/build/code_formatting-5f7533d0e3a713101d0fbc3e66a69964.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"testing","title":"Software testing","description":"","date":"","thumbnail":"/build/github_actions_failu-25d4b04ead335da5128a6f4198042f8f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ai-coding-assistants","title":"Coding with AI","description":"","date":"","thumbnail":"/build/claudecode_1-4601a738e37b4cde8a7e2fe367fdebb4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"project-organization","title":"Project structure and management","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data-management","title":"Data Organization and Management","description":"","date":"","thumbnail":"/build/data_lifecycle_rdmki-c0d23e77929147e6d7b27f41bae7bb87.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"version":3,"kind":"Article","sha256":"4d981e3f7e1c7f4ed722110594279fe8f2a5be838d1b8ddb1ce1020ca35fc400","slug":"essential-tools-and-techniques","location":"/essential_tools_and_techniques.md","dependencies":[],"frontmatter":{"title":"Essential tools and techniques","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Russell Poldrack et al.","given":"Russell Poldrack","non_dropping_particle":"et","family":"al."},"name":"Russell Poldrack et al.","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/poldrack/BetterCodeBetterScience","source_url":"https://github.com/poldrack/BetterCodeBetterScience/blob/main/book/essential_tools_and_techniques.md","edit_url":"https://github.com/poldrack/BetterCodeBetterScience/edit/main/book/essential_tools_and_techniques.md","thumbnail":"/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png","exports":[{"format":"md","filename":"essential_tools_and_techniques.md","url":"/build/essential_tools_and_-4aa91c857e86573c9381c56ede8cf824.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The tools and why we use them","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MeNeCtbaRq"}],"identifier":"the-tools-and-why-we-use-them","label":"The tools and why we use them","html_id":"the-tools-and-why-we-use-them","implicit":true,"key":"iApSuiQcyX"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We hope that the principles and strategies outlined in this book will transcend any particular software platform or programming language, but for the purposes of explication we will focus on a particular language (Python) and a particular set of tools for software development/engineering and AI coding assistance.\nHere we briefly outline our motivation for these particular tools.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AJtbVOrYGQ"}],"key":"A5WQEva7F7"},{"type":"heading","depth":3,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Why Python?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NEDEeFDNkQ"}],"identifier":"why-python","label":"Why Python?","html_id":"why-python","implicit":true,"key":"hV2nKjCNlS"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"For the coding examples in this book we will use the Python programming language.\nWe have chosen Python first and foremost because it is a language that we know well, as well as being one of the most popular languages today in science.\nPython is a relatively high level programming language, which means that it can be understandable (if written correctly) even by someone with relatively little experience.\nIt is also free and open source, which means that anyone with a computer can download it and run it at no cost.\nIn addition, Python is a language that has exceptionally good support from AI coding assistants such as GitHub Copilot, which has been trained on a huge corpus of Python code (along with code from many other languages as well).\nPython also has a large and growing ecosystem of packages and tools that make it possible to solve many different problems easily.\nIf you are interested in working on machine learning or AI, the tools in Python are especially good.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"y39NvhdLQ2"}],"key":"ttyOmr93hQ"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Across many different domains of science there are specialized Python packages to solve domain-specific problems: Examples include ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"rTJHKhn8IR"},{"type":"link","url":"https://www.astropy.org/","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"astropy","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"I7hm8Fe06X"}],"urlSource":"https://www.astropy.org/","key":"e53NHNUgxQ"},{"type":"text","value":" (astronomy), ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"KAgHGpavY3"},{"type":"link","url":"https://geopandas.org/en/stable/getting_started/introduction.html","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"geopandas","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"vygQMn5XPB"}],"urlSource":"https://geopandas.org/en/stable/getting_started/introduction.html","key":"f7OOtM3GM2"},{"type":"text","value":" (geospatial sciences), ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"QgUKthtefz"},{"type":"link","url":"https://quantecon.org/","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"quantecon","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"iGJTjUKJrU"}],"urlSource":"https://quantecon.org/","key":"rxWoCQDMdw"},{"type":"text","value":" (economics), ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"pr9ktFf012"},{"type":"link","url":"https://sunpy.org/","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"sunpy","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"i3wDNOReej"}],"urlSource":"https://sunpy.org/","key":"xoZePfIJKv"},{"type":"text","value":" (solar physics), and ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"qIxPImLO3H"},{"type":"link","url":"https://www.psychopy.org/","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"psychopy","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"iBCpftWVXg"}],"urlSource":"https://www.psychopy.org/","key":"aOavIj7B65"},{"type":"text","value":", just to name a few.\nWe should note that different scientific communities have often converged on particular high-level languages.\nThe above are some examples of Python packages, but in some fields the ecosystem is much more elaborated in R, Julia, Perl or Matlab.\nWe hope that most of the lessons in this book will be relevant to these other languages as well.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"g907pRZXHR"}],"key":"xhat4bVvkC"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"If you don’t already know Python, then we suggest that you try to follow along with the examples anyway; our aim is to write them in a way that anyone with a general knowledge of programming should be able to read and understand them.\nIn some cases we may use programming constructs that are specific to Python; if you are coming from another language and you see something you don’t understand, then we would recommend asking an AI assistant to explain it to you, since current AI tools are very good at explaining the intent of Python code! As we discuss in Chapter XXX, learning a new programming language is a great way to expand your programming skills, and Python is currently a great language to learn.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"mAhBttkwyf"}],"key":"luMVCKXGtX"},{"type":"heading","depth":2,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Version control","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"N4lCOj4niw"}],"identifier":"version-control","label":"Version control","html_id":"version-control","implicit":true,"key":"ix96aMQm6L"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Scientists in many fields have traditionally kept a ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"UeTlR6Babb"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"lab notebook","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"BH17KX4ek3"}],"key":"NBwiu3ONb2"},{"type":"text","value":" to record their experimentation.\nThis is still the case in domains such as biology where the work often involves manual experimentation at a lab bench.\nMany such labs have moved to using electronic lab notebooks, making it much easier to search and find relevant information.\nHowever, an increasing amount of scientific work is now computational, and for this work it would seem somewhat inefficient to record information about the software development process separately from the code that is being written.\nThere is in fact a tool that can provide the computational researcher with an integrated way to record the history their work, known as ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"lIr3L0zg0k"},{"type":"emphasis","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"version control.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"lrge4AvWxe"}],"key":"fLq74koway"},{"type":"text","value":" While there are many tools that can be used to perform version control, ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Cy2V33aa30"},{"type":"link","url":"https://git-scm.com/","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"git","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"KZIxqY9mrP"}],"urlSource":"https://git-scm.com/","key":"G1ZeVT0Omi"},{"type":"text","value":" has become by far the most prevalent within the scientific computing ecosystem, largely due to the popularity of the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"edbkWIvtEb"},{"type":"link","url":"http://github.com","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"kDs51Thsya"}],"urlSource":"http://github.com","key":"kQXrXs3LIq"},{"type":"text","value":" website that enables the hosting and sharing of git repositories.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"mPnezOuneW"}],"key":"ZTFtkXh0pY"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"In this section we will assume that the researcher has a basic knowledge of the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"c8nTwAxUM2"},{"type":"inlineCode","value":"git","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"iLdNQCk2MV"},{"type":"text","value":" software tool; for researchers looking to learn ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"qHqDspiGAF"},{"type":"inlineCode","value":"git","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"JefKgLeX1v"},{"type":"text","value":", there are numerous resources online, which we will not duplicate; see the suggested resources at the end of this chapter.\nHere we will focus on the ways in which version control tools like ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"GWxQK36csN"},{"type":"inlineCode","value":"git","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"JfbNwdmxZq"},{"type":"text","value":" can serve as important tools to improve scientific coding.\nWhile there are numerous graphical user interfaces (GUIs) for git (including those offered by various IDEs), we will focus on its use via the command line interface (CLI).\nEvery researcher should have a basic knowledge of the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"HZB4F3OcUU"},{"type":"inlineCode","value":"git","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"I8HF0uwg7t"},{"type":"text","value":" CLI, since this is a ubiquitous interface available across all OSes and environments.\nThe CLI is sometimes the only interface that is available to the researcher, e.g. in a remote session on an HPC system or in the cloud.\nMoreover, the CLI provides an immediate exposure to available commands (run ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"W5VAx92EnC"},{"type":"inlineCode","value":"git --help","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"srd9qdxfsh"},{"type":"text","value":") and options for each command (run ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"pLltGC1tqe"},{"type":"inlineCode","value":"git COMMAND --help","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"cHOkU9WooF"},{"type":"text","value":"), allowing users to discover a command or option that might not (yet) be exposed by any particular GUI tool.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"w09SLFUBKw"}],"key":"JB3cExC4Rb"},{"type":"heading","depth":3,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"How version control works","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"pdprSI2J86"}],"identifier":"how-version-control-works","label":"How version control works","html_id":"how-version-control-works","implicit":true,"key":"Is8qlRu4sJ"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"The goal of a version control system is to provide an annotated history of all changes that occur to the tracked files.\nHere we will provide a brief overview of the conceptual structure of version control, using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"OqXwshCCVM"},{"type":"inlineCode","value":"git","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"LtqaVgYrdk"},{"type":"text","value":" system as our example.","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"aQiRU6wust"}],"key":"LCSpWW7Eot"},{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"The general workflow for version control using ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"PerYNs04Gv"},{"type":"inlineCode","value":"git","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"mwHzLBSfOA"},{"type":"text","value":" is as follows:","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"Ce8pEpmY8y"}],"key":"brswOse0Vm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":49,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Initial check-in: A file is added to the database.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"emQWnkteU2"}],"key":"yofgbLioj1"}],"key":"HqGGKYiUg0"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The file is ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"QC1IaiaPCy"},{"type":"emphasis","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"modified","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"zbDYchdoau"}],"key":"QJ3eGZh2Yo"},{"type":"text","value":" by the user, but the changes are not added to the database.","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"HaQ9vBvAgJ"}],"key":"ZbaRFQnPDq"}],"key":"a0SE9LGjZf"},{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The file is ","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"GU5BoCCHd7"},{"type":"emphasis","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"added","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"TR7TZAo6s6"}],"key":"Xv7yltsRTs"},{"type":"text","value":" to the staging area, which tracks the changes in the file and marks the new version to be added to the database.","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"Zv9xehtUQE"}],"key":"xNCjGU6gYw"}],"key":"mVpVyECqcN"},{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The file is ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"fsjYRcCX8a"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"committed","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"Ge9FjsJyXL"}],"key":"iqX5lUSURH"},{"type":"text","value":", which stores it in the base along with a ","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"RMyMTBexrS"},{"type":"emphasis","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"children":[{"type":"text","value":"commit message","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"LUQ0AoLvLq"}],"key":"nRhbJQr98k"},{"type":"text","value":" that describes the changes.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"w0lTKcXH8G"}],"key":"P5RsWpTjSa"}],"key":"bnkDRQyKmq"}],"key":"CUeufL1GYh"},{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"strong","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"text","value":"TODO","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"PIZ7Psv1Qw"}],"key":"DKzcYfTUuc"},{"type":"text","value":": Provide visualizations for git/github concepts?","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"TxtalOKQTh"}],"key":"gsrxcIF7KU"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"Here is an example using ","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"WMHcZ7xK5O"},{"type":"inlineCode","value":"git","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"qPMugnhFT6"},{"type":"text","value":".\nWe will create a test directory (outside of our current git repository) and initialize it as a git repository:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"e5mQ0SIFv3"}],"key":"dq0rGKp9nE"},{"type":"code","lang":"bash","value":"\u003e cd /tmp\n\u003e mkdir git-test\n\u003e cd git-test\n\u003e git init\n\u003e echo \"test file\" \u003e test_file.txt\n\u003e git status\nOn branch main\n\nNo commits yet\n\nUntracked files:\n  (use \"git add \u003cfile\u003e...\" to include in what will be committed)\n\ttest_file.txt\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n","position":{"start":{"line":60,"column":1},"end":{"line":77,"column":1}},"key":"J1VIy3RDbU"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"So far our new file is not being tracked, but we can add it to the database:","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"UVBsVGNbFo"}],"key":"oFPjE5d9XJ"},{"type":"code","lang":"bash","value":"\u003e git add test_file.txt\n\u003e git status\nOn branch main\n\nNo commits yet\n\nChanges to be committed:\n  (use \"git rm --cached \u003cfile\u003e...\" to unstage)\n\tnew file:   test_file.txt\n\n","position":{"start":{"line":81,"column":1},"end":{"line":93,"column":1}},"key":"TPj94M2p69"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"It’s now in the staging area, but hasn’t yet been committed to the database, as we can see if we print the log:","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"CZ2mvrBgrY"}],"key":"lbVxN5rfio"},{"type":"code","lang":"bash","value":"\u003e git log\nfatal: your current branch 'main' does not have any commits yet\n","position":{"start":{"line":97,"column":1},"end":{"line":101,"column":1}},"key":"rkF7mpimi0"},{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"We can commit the items in the staging area (in this case, just our single added file) to the database and provide a message that labels the commit:","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"BmxqEYK8q1"}],"key":"httX6Yt6BU"},{"type":"code","lang":"bash","value":"\u003e git commit -m\"initial add\"\n[main (root-commit) 752ca80] initial add\n 1 file changed, 1 insertion(+)\n create mode 100644 test_file.txt\n\u003e git status\nOn branch main\nnothing to commit, working tree clean","position":{"start":{"line":105,"column":1},"end":{"line":113,"column":1}},"key":"Xx65tNB20J"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Now that all changes have been committed, we are “clean”, meaning that the files in the directory match exactly to those in the database.\nWe can see the commit in the git log:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"qLXF0iyHNc"}],"key":"PTrnn0BbnK"},{"type":"code","lang":"bash","value":"\u003e git log\ncommit 752ca809cd662f846434dcb2c81f3000db640b4e (HEAD -\u003e main)\nAuthor: Russell Poldrack \u003cpoldrack@gmail.com\u003e\nDate:   Mon Feb 17 07:42:35 2025 -0800\n\n    initial add\n","position":{"start":{"line":118,"column":1},"end":{"line":126,"column":1}},"key":"lgB9HGJmvr"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"The long string (starting with “752”) is the ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"S4JU2OvCXP"},{"type":"emphasis","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"hash","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"EFoK3xknyG"}],"key":"pYwTaQ6gBd"},{"type":"text","value":" for this commit.\nThis is a value (generated by a cryptographic algorithm called SHA-1) that uniquely represents all of the changes that were made in this commit.\nFor example, if we had used a different commit message then the hash would be different.\nThe commit hash is the way that we refer to commits - for example, if we wanted to change the state of our repository back to an earlier commit we would use the hash of that earlier commit.\nWe usually don’t need to use the entire hash; the first ~8 letters are usually sufficient.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"uPdKhvZMkF"}],"key":"WbNwmjrxXX"},{"type":"paragraph","position":{"start":{"line":134,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"The most important role for version control is to track changes in a file, along with notes about those changes.\nThat is, it can serve as a digital version of a lab notebook! Let’s make a change to the file to see this in action:","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"le90qzOtaR"}],"key":"B12uVyIyhd"},{"type":"code","lang":"bash","value":"\u003e echo \"another line\" \u003e\u003e test_file.txt # add another line of text\n\u003e git diff test_file.txt\ndiff --git a/test_file.txt b/test_file.txt\nindex 16b14f5..0db3737 100644\n--- a/test_file.txt\n+++ b/test_file.txt\n@@ -1 +1,2 @@\n test file\n+another line\n","position":{"start":{"line":137,"column":1},"end":{"line":148,"column":1}},"key":"wCkQozPQuO"},{"type":"paragraph","position":{"start":{"line":150,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"This provides us with a (somewhat cryptic) description of the changes to the file; the line starting with a “+” denotes the content that was added (in the console this would also be color-coded in green).\nWe can then add and commit the file and then view the new commit in the log:","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"EJ52qQFZqQ"}],"key":"AzEn7HBZrl"},{"type":"code","lang":"bash","value":"\u003e git add test_file.txt\n\u003e git commit -m\"added a second line\"\n[main 5e8c41a] added a second line\n 1 file changed, 1 insertion(+)\n\u003e git log\n\ncommit 5e8c41a075b2ab2d954d59cab6530d924c5e3e6a (HEAD -\u003e main)\nAuthor: Russell Poldrack \u003cpoldrack@gmail.com\u003e\nDate:   Mon Feb 17 07:56:09 2025 -0800\n\n    added a second line\n\ncommit 752ca809cd662f846434dcb2c81f3000db640b4e\nAuthor: Russell Poldrack \u003cpoldrack@gmail.com\u003e\nDate:   Mon Feb 17 07:42:35 2025 -0800\n\n    initial add","position":{"start":{"line":153,"column":1},"end":{"line":171,"column":1}},"key":"krv7BoClUB"},{"type":"paragraph","position":{"start":{"line":173,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"Now we can see our latest commit at the top of the list.\nIf we were to push our repository to GitHub, then we could also see a much more user-friendly graphical view of commit history and the changes that occurred in each commit.\nMost IDEs also have an interface to work directly with ","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"EuGrCqtqHX"},{"type":"inlineCode","value":"git","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"Ia3zj1nked"},{"type":"text","value":"; for example, within VSCode there is a ","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"LZ2MunVyd3"},{"type":"emphasis","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"text","value":"Source Control","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"WUMTq7xKUX"}],"key":"B5cQCADLBc"},{"type":"text","value":" panel that would allow one to do everything that we did above using the command line.","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"o2i7Y5M9T2"}],"key":"XyiYO6koSF"},{"type":"heading","depth":3,"position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Version control as a lab notebook","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"xQVWNgZixy"}],"identifier":"version-control-as-a-lab-notebook","label":"Version control as a lab notebook","html_id":"version-control-as-a-lab-notebook","implicit":true,"key":"cf13rDImnv"},{"type":"paragraph","position":{"start":{"line":179,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"It is essential for a researcher to keep track of their work as it proceeds, and traditionally this has been done using a written lab notebook.\nThis has several drawbacks; it’s impossible to search easily, and for researchers with terrible handwriting (like author RP, as seen in ","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"sQkDm7qzKy"},{"type":"crossReference","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Figure ","key":"eKa0IEnc11"},{"type":"text","value":"1","key":"Ioe7vx1vtX"}],"identifier":"labnotebook-fig","label":"LabNotebook-fig","kind":"figure","template":"Figure %s","enumerator":"1","resolved":true,"html_id":"labnotebook-fig","key":"jESdvg0fkF"},{"type":"text","value":") it can often be impossible to later decipher what the notes actually mean.","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"VT9k6BcqoF"}],"key":"T3Dz6PaSyQ"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png","alt":"Scan of a page from Russ’s lab notebook circa 2000.","width":"400px","align":"center","data":{"altTextIsAutoGenerated":true},"key":"WATkBQYT2n","urlSource":"images/lab_notebook_scan.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"LabNotebook-fig","identifier":"labnotebook-fig","html_id":"labnotebook-fig","enumerator":"1","children":[{"type":"text","value":"Figure ","key":"R9SgEnOgPd"},{"type":"text","value":"1","key":"w3B4QAEg68"},{"type":"text","value":":","key":"SWEev7ePSv"}],"template":"Figure %s:","key":"KE57aQg8ph"},{"type":"text","value":"Scan of a page from Russ’s lab notebook circa 2000.","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"kquPzCSGJZ"}],"key":"b5tNRB9MzM"}],"key":"NSfZISbxd6"}],"label":"LabNotebook-fig","identifier":"labnotebook-fig","enumerator":"1","html_id":"labnotebook-fig","key":"XvCuvKEM3g"},{"type":"heading","depth":3,"position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Version control best practices","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"UwL2h0fFHo"}],"identifier":"version-control-best-practices","label":"Version control best practices","html_id":"version-control-best-practices","implicit":true,"key":"n31iPkR9yl"},{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"text","value":"Version control systems like ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"VHZNU6MxAS"},{"type":"inlineCode","value":"git","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"fST4yC2OCj"},{"type":"text","value":" can serve as an outstanding alternative to a written lab notebook for the computational researcher, but only if it used well.\nHere are a few best practices for ensuring good record-keeping:","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"yC7AaCq4ev"}],"key":"HMmlQ3J3gR"},{"type":"heading","depth":4,"position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"Use a consistent standard format for commit messages","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"yTcsbTTIop"}],"identifier":"use-a-consistent-standard-format-for-commit-messages","label":"Use a consistent standard format for commit messages","html_id":"use-a-consistent-standard-format-for-commit-messages","implicit":true,"key":"yQMnn4ptrC"},{"type":"paragraph","position":{"start":{"line":199,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"text","value":"Using a particular format consistently will make it much easier to understand and search your history later on.\nHere is one simple format that one might use for commit messages:","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"H42y70Iv3d"}],"key":"W8UZBAOyO5"},{"type":"code","lang":"","value":"\u003ctype\u003e: \u003csummary\u003e\n\n\u003coptional longer description\u003e","position":{"start":{"line":202,"column":1},"end":{"line":206,"column":1}},"key":"k6YynoWZz0"},{"type":"paragraph","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"HEGyGNoGIa"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"type","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"TSvL3JBssV"}],"key":"DurEws2gt7"},{"type":"text","value":" tag describes the type of change, which could include tags like ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"cACipUDNAr"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"feature","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"xZ8O3qDNjK"}],"key":"HcchKP8D2x"},{"type":"text","value":", ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"ImIR8yaza0"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"bugfix","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"UiCNwOxR8d"}],"key":"Vb9Ds1jUKQ"},{"type":"text","value":", ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"vtkUi959SR"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"refactor","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"LewvPVoPPC"}],"key":"vRpY0OY1cI"},{"type":"text","value":", ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"ygM5TG001A"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"doc","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"YHsuhkkPeQ"}],"key":"n7RFHAZevj"},{"type":"text","value":", ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"jiOECIdwbl"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"test","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"k1fxHH1L4e"}],"key":"Np5tIg6UVJ"},{"type":"text","value":", and ","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"H8S41YCTkw"},{"type":"emphasis","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"cleanup","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"Q0NxngUSje"}],"key":"SsGS0RHr4p"},{"type":"text","value":".","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"J73SzXhRHX"}],"key":"QNXs7HBwuY"},{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"Tvyyb97ZHI"},{"type":"emphasis","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"summary","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"lUaepqwkuj"}],"key":"ynI9pQrvzr"},{"type":"text","value":" should include a brief summary (usually less than 72 characters) that summarizes what was done.\nYou should avoid using generic or vague summaries such as “update” or “fix bug”.","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"OsMUmZR3zu"}],"key":"X5SOuA9bPA"},{"type":"paragraph","position":{"start":{"line":213,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"text","value":"By ","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"Bd7sUhdh6D"},{"type":"inlineCode","value":"git","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"hXgF4l34jk"},{"type":"text","value":" convention, commit messages should be written in imperative mood, as if one is giving a command.\nFor example, the message might say “add test for infinite edge case” rather than “added test for infinite edge case”.","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"XK7Z6KoCue"}],"key":"KzsQ2FNzlz"},{"type":"paragraph","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"text","value":"Here is a example:","position":{"start":{"line":216,"column":1},"end":{"line":216,"column":1}},"key":"GnGYLWgFc8"}],"key":"Vl9Ziw2F01"},{"type":"code","lang":"","value":"refactor: Make crossvalidation function cleaner\n\nThe previous function was written in a way that was \nnot clean, using badly named variables and confusing \nprogramming constructs.  The new code fixes these \nissues while still passing all tests.","position":{"start":{"line":218,"column":1},"end":{"line":225,"column":1}},"key":"Un5YQNAuZv"},{"type":"heading","depth":4,"position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"Explain intent rather than code","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"H2MUVBUGim"}],"identifier":"explain-intent-rather-than-code","label":"Explain intent rather than code","html_id":"explain-intent-rather-than-code","implicit":true,"key":"OBRbcVzXZZ"},{"type":"paragraph","position":{"start":{"line":229,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"A good commit message should explain what problem was being solved and why the change was necessary, rather than detailing the specific code changes.\nThe code changes are already evident from the change log, so the message should focus instead on details that are not evident from looking at the code itself.\nFor example:","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"k5nb3msaAA"}],"key":"zaaYIf9fAc"},{"type":"code","lang":"","value":"feature: Enable use of multiple APIs\n\nPreviously the function only worked with the OpenAI API.\nThis change generalizes it to allow any endpoint that \nfollows the OpenAI API conventions.","position":{"start":{"line":233,"column":1},"end":{"line":239,"column":1}},"key":"WNRYJjdWmX"},{"type":"heading","depth":4,"position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"text","value":"A single commit should reflect solution of a particular problem","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"Sj6BwuWs6x"}],"identifier":"a-single-commit-should-reflect-solution-of-a-particular-problem","label":"A single commit should reflect solution of a particular problem","html_id":"a-single-commit-should-reflect-solution-of-a-particular-problem","implicit":true,"key":"Lzmcw6UBNM"},{"type":"paragraph","position":{"start":{"line":244,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"text","value":"One of the tricky aspects of learning to use version control is learning when to commit.\nOne rule of thumb is that a commit should reflect a group of changes that solve a particular problem.\nFor example, say that we have modified three source files to add the multiple API functionality listed above.\nWe could on the one hand add and commit the changes from each file separately, leading to three separate commits.\nThis is too granular; if we later decide that we want to roll back those changes (which could be difficult depending on commit messages and our memory), we have to identify the three separate commits and then roll back each one separately.\nAt the other extreme, it’s not uncommon for users to check in all of the work that was done in a day, with a commit message like “all work from Tuesday”.\nIf one were to later decide that part of the work from that day needed to be rolled back, it would require a lot of extra work to isolate just those changes.\nThe sweet spot for committing is to commit changes that represent a functional bundle, or that solve a particular problem.\nThinking about the commit message can be helpful in considering when to commit; if it’s difficult to give a concise functional description to the specific set of changes being committed, then the commit may be either too narrow or too broad.","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"KMgaTtieEL"}],"key":"ItinDi7Sua"},{"type":"heading","depth":4,"position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"Avoid blanket add/commit operations","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"zyMsUyL4Dd"}],"identifier":"avoid-blanket-add-commit-operations","label":"Avoid blanket add/commit operations","html_id":"avoid-blanket-add-commit-operations","implicit":true,"key":"kUDHtNzbPD"},{"type":"paragraph","position":{"start":{"line":256,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Another common ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"CykhiGE5cV"},{"type":"inlineCode","value":"git","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"oaAm0VGDjG"},{"type":"text","value":" “anti-pattern” (i.e. a commonly used but bad solution to a common problem) is to simply add all files using ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"pW4cL2VKQr"},{"type":"inlineCode","value":"git add .","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"K060BxykEw"},{"type":"text","value":" (which adds all files in the current directory, including those that have not been added) or ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"A3mwZqblk2"},{"type":"inlineCode","value":"git add -A","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"EKQfVjjbm5"},{"type":"text","value":" (which does the similar thing recursively for the entire directory tree).\nThis kind of “blanket add/commit” is problematic for at least two reasons.\nFirst, there are often files that we don’t want to add to version control, such as files containing credentials or files with details about the local system configuration.\nWhile we would usually want to add these files to our ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"SklQEmOReu"},{"type":"inlineCode","value":".gitignore","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"HJFTUTN1xW"},{"type":"text","value":" file (which prevents them from being added), it’s best practice to explicitly add files that we are working on.\nA second reason to avoid blanket add/commit is that if we are working on more than one problem at a time, the resulting commit will bundle together files that address different problems and thus prevent writing a clean commit message as well as prevent a clean reversion of that code later.\nIt would also require knowing exactly which files have been added in order to create an accurate commit message.\nThe only time that we can imagine a blanket add/commit being reasonable is when one is initially creating a repository using a large number of files.","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"BCJlfBoIe0"}],"key":"m8twOsHLEb"},{"type":"paragraph","position":{"start":{"line":264,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"A better practice is to explicitly name all files being added, which forces one to think about exactly what problem the commit is solving.\nIf one is certain that they know exactly which code files have been changed, then a useful alternative can be to only add modified files (using ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"EVfQGAMlhi"},{"type":"inlineCode","value":"git add -u","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"IBL8HNHc1n"},{"type":"text","value":"), which can save a bit of time if there are numerous files being added.\nHowever, it’s important to make sure that the commit message always faithfully reflects the totality of the changes.","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"mTKjgEtCKE"}],"key":"YvGftwzfPu"},{"type":"heading","depth":3,"position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"Version control as developer productivity tool","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"fSBudOPyi4"}],"identifier":"version-control-as-developer-productivity-tool","label":"Version control as developer productivity tool","html_id":"version-control-as-developer-productivity-tool","implicit":true,"key":"S6KPTdsVtL"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":277,"column":1}},"children":[{"type":"text","value":"So far we have discussed version control primarily as a way to record the history of software development.\nBut an arguably even more powerful aspect of version control is the way that it enables developer productivity by allowing one to try our new changes and easily revert to a previous version.\nIt’s useful to first examine how this might be done without version control.\nSuppose a developer has a codebase and wants to try out a major change, such as changing the database backend used in the project.\nThey would usually save a copy of all of the source files (perhaps with a timestamped label), and then start working on the problem.\nIf at some point they wish to completely abandon the new project, they can always go back to the copy of the original.\nBut what if they want to abandon the latest part (e.g. a specific database) without necessarily abandoning the rest of the work that it took to get there? Unless they are saving copies at every step (which quickly becomes a bookkeeping nightmare), this will be very challenging to pull off.\nOn the other hand, with a solid version control workflow these problems are trivial to solve, because these systems are built exactly in order to solve this bookkeeping problem.","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"DjDZ5Ick6A"}],"key":"IaKTMJLGYY"},{"type":"heading","depth":4,"position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"Falling back on previous commits","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"xLB0JKGJc9"}],"identifier":"falling-back-on-previous-commits","label":"Falling back on previous commits","html_id":"falling-back-on-previous-commits","implicit":true,"key":"ErMyVT0Mo7"},{"type":"paragraph","position":{"start":{"line":282,"column":1},"end":{"line":283,"column":1}},"children":[{"type":"text","value":"We will start first with a simple example that only involves the ","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"l8KqUtwPbt"},{"type":"inlineCode","value":"main","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"zWQ8S7Rm84"},{"type":"text","value":" branch of the repository; if you don’t know what a “branch” is, this would be a good time to seek out your favorite ","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"NSykpb5Eia"},{"type":"inlineCode","value":"git","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"L06Z8FM5B0"},{"type":"text","value":" resource and learn about that concept.\nLater we will suggest that working directly in the main branch is not optimal, but it’s common for many research projects with a single developer so we will start there, fitting with our mantra that we should never let the perfect be the enemy of the good.","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"ygnnLqUIsY"}],"key":"OolQR8L7Wa"},{"type":"paragraph","position":{"start":{"line":285,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Let’s say that we wish to try changing out the database backend for our project, which will require changes to several of the source files.\nStarting with a clean working tree (i.e. no uncommitted changes or untracked files not included in ","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"d5ArPYLQ3j"},{"type":"inlineCode","value":".gitignore","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"oquvLHms3B"},{"type":"text","value":"), we would first create a new tag so that we can easily find the last commit in case we decide that we want to revert back to it:","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"nthFHc2zQK"}],"key":"rfBN0I0AV9"},{"type":"code","lang":"bash","value":"git tag v0.2-pre-db-change","position":{"start":{"line":288,"column":1},"end":{"line":290,"column":1}},"key":"BDjzFnmww7"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"We then start developing on the new code, committing as usual.\nLet’s say that we make a few commits on the new code, but then go down a road that we decide to abandon.\nIt’s easy to get back to the last commit simply by typing ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"UlelfHRVaj"},{"type":"inlineCode","value":"git reset --hard HEAD","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"tPwG8XjMWZ"},{"type":"text","value":", which takes the code back to the state it was in at the last commit (known as “HEAD”).\nIn the case that we decide to abandon the entire project and want to go back to the state of the code when we started (which is denoted by the tag we created), we simply need to find the hash for that commit and then check out that version of the repository:","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"Tf7nkENsNT"}],"key":"m7FHm8Ctva"},{"type":"code","lang":"bash","value":"\u003e git show v0.2-pre-db-change\ncommit 5e8c41a075b2ab2d954d59cab6530d924c5e3e6a (HEAD -\u003e main, tag: v0.2-pre-db-change, tag: v0.2)\n\u003e git checkout 5e8c41a07 .\n\u003e git commit -m\"\"\"\ncleanup: Revert attempted database backend switch\n\nWe tried to replace the database backend but realized after some\ndevelopment that this would not solve our problem, so we are reverting\nback to the original code.\"\"\"\n\nOn branch main\nnothing to commit, working tree clean","position":{"start":{"line":297,"column":1},"end":{"line":310,"column":1}},"key":"ezHI91kdfm"},{"type":"paragraph","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"children":[{"type":"text","value":"A look at the ","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"AQeMnpUWZG"},{"type":"inlineCode","value":"git log","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"nItDxkTNYN"},{"type":"text","value":" will now show that the HEAD matches the hash for the tagged commit.","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"ReYEMsfqxo"}],"key":"Rgzv16FohK"},{"type":"heading","depth":4,"position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"text","value":"Using branches","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"jH8AVcXAXY"}],"identifier":"using-branches","label":"Using branches","html_id":"using-branches","implicit":true,"key":"UU01ymFGVx"},{"type":"paragraph","position":{"start":{"line":316,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"All ","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"HejE6eVF0P"},{"type":"inlineCode","value":"git","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"vj80y32FL3"},{"type":"text","value":" repositories start with a single default branch, usually called “main” (or sometimes the previous convention, “master”).\nWhile it’s possible to develop completely within the main branch of a repository, we generally prefer to use ","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"BKGLGqxi32"},{"type":"emphasis","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"development branches","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"yUUBidL8d1"}],"key":"hgZaFrBt8w"},{"type":"text","value":", which can be thought of as different versions of the repository.\nIn our preferred workflow, whenever we want to modify code we first create and then check out a new branch, in which we will do that work.\nOne great benefit of this is that if the main branch was working when we created the development branch, it will remain in a working state even as we make our changes in the new branch.\nThis provides much greater freedom to try out changes with no concern about breaking existing code, and also allows development to proceed without interfering with production code.","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"j9gojOs0zC"}],"key":"EevYZUgpJQ"},{"type":"paragraph","position":{"start":{"line":322,"column":1},"end":{"line":325,"column":1}},"children":[{"type":"text","value":"It’s important to name branches in way that makes clear what their purpose is.\nIt is customary to use a prefix that states the general purpose of the branch; common prefixes including “feature/” (for new features), “bugfix/” (for bug fixes), “release/” (for a new package release), “docs/” (for documentation changes), and “test/” (for testing-related changes).\nThe prefix should be followed by a description of the purpose of the branch.\nFor example, for our example above we might use “feature/swap-db-backend”.","position":{"start":{"line":322,"column":1},"end":{"line":322,"column":1}},"key":"SMilc83fUi"}],"key":"tmpX0FjvXb"},{"type":"paragraph","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"children":[{"type":"text","value":"We can create a new branch and check it out (making it the current branch) using ","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"mbKe60ORd6"},{"type":"inlineCode","value":"git checkout","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"KIed0geDUR"},{"type":"text","value":":","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"ei9ov3rhjT"}],"key":"JVPICLT8A6"},{"type":"code","lang":"bash","value":"\u003e git branch\n* main\n\u003e git checkout -b feature/swap-db-backend\nSwitched to a new branch 'feature/swap-db-backend'\n\u003e git branch\n* feature/swap-db-backend\n  main","position":{"start":{"line":329,"column":1},"end":{"line":337,"column":1}},"key":"VsEw0Gayv4"},{"type":"paragraph","position":{"start":{"line":339,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"We can now go about our development work, committing as usual to the branch.\nIf we were to later decide to abandon the new branch, we simply check out the main branch, and we are right back where we left off before creating the new branch.\nWe could either delete the feature branch (to keep the repository clean), or keep it around in case we wish to go back later and look at it again.","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"tvtHMa89x0"}],"key":"urB9ifd2kV"},{"type":"heading","depth":3,"position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"Collaborative development using GitHub","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"xDwiiy5LEB"}],"identifier":"collaborative-development-using-github","label":"Collaborative development using GitHub","html_id":"collaborative-development-using-github","implicit":true,"key":"SDiJ7h3FZx"},{"type":"paragraph","position":{"start":{"line":345,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"text","value":"While git is very useful for the individual developer, it becomes even more powerful when used for collaborative development amongst a group of developers.\nFor ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"j3I4snPn1a"},{"type":"inlineCode","value":"git","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"aTOSsWKqOI"},{"type":"text","value":" users this is enabled by the popular ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"b6QYQmED2U"},{"type":"link","url":"http://github.com","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"VG54Q93uuY"}],"urlSource":"http://github.com","key":"iGaZQlQWf3"},{"type":"text","value":" web platform for version control.\nWe will assume a basic familiarity with the use of GitHub: see the Suggested Resources at the end of the chapter for resources to learn how to use GitHub.","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"lPWR7gyOBN"}],"key":"eSGDuoNtXT"},{"type":"paragraph","position":{"start":{"line":349,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Collaborative development requires choosing a workflow that the team will adhere to; a commonly used workflow for GitHub users is the ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"fixr6EqkLN"},{"type":"link","url":"https://docs.github.com/en/get-started/using-github/github-flow","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"GitHub flow","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"Jlxbp5Tz2w"}],"urlSource":"https://docs.github.com/en/get-started/using-github/github-flow","key":"sz78Pkdgr3"},{"type":"text","value":", which goes as follows.\nLet’s say that we have two developers on our team, and one of them wants to attempt the database backend project that we described above.\nThe process would be:","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"XN98rVDjVE"}],"key":"u1lTRHo0u6"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":353,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The developer creates a branch within the repo, giving it a a clear and expressive name such as “feature/swap-db-backend”. They develop their code within this branch.","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"bImdZSGIuc"}],"key":"B0b1Z0JeOg"}],"key":"IrHXXgXr7B"},{"type":"listItem","spread":true,"position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If the user doesn’t have write access to the repo, they first create a ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"ZheVYaYyUV"},{"type":"emphasis","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"fork","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"A6FrMxmZPf"}],"key":"sVxx8TyNN3"},{"type":"text","value":" of the repo, which copies it to their own account and thus allows write access.","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"r8rMGnkos3"}],"key":"sNDBBYDUHg"}],"key":"CW6XoE0pcq"},{"type":"listItem","spread":true,"position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Once the feature is complete, they commit and push all of their changes to the repository on GitHub.","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"dnKkvIO5NI"}],"key":"ZeXdFvTv7j"}],"key":"SBTDnlbAt3"},{"type":"listItem","spread":true,"position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"They then create a ","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"whuTWlR7CO"},{"type":"emphasis","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"children":[{"type":"text","value":"pull request","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"GE7Xa0wCU6"}],"key":"dJOvxm5ha2"},{"type":"text","value":", which requests that the code in their branch be merged into the main branch of the primary repository.","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"key":"mqHwUfo8na"}],"key":"k0e09nM3CG"}],"key":"A4jxVnU8NU"},{"type":"listItem","spread":true,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Another developer on the team reviews the pull request, and provides comments suggesting changes to the code.","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"cEOTznotgN"}],"key":"xsHjCp8c4n"}],"key":"aIKpLC41DH"},{"type":"listItem","spread":true,"position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Once the reviewer’s comments are addressed, the code from the branch is merged into the main branch, so that the changes are now incorporated there.","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"ochuYSIXWI"}],"key":"eZTOH42RW3"}],"key":"tHj6jjPzLC"},{"type":"listItem","spread":true,"position":{"start":{"line":359,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"After merging, the branch is deleted to keep the repository clean.","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"lXaB4l3cJo"}],"key":"o8x8XZbVG4"}],"key":"Gioh1HYa8H"}],"key":"ZevNS0hT4m"},{"type":"paragraph","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"This type of collaborative development process powers many of the large open source projects that are commonly used today, but can be equally transformative for small groups such as a individual research lab.","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"iTEuTZ77rY"}],"key":"hJju405iJp"},{"type":"heading","depth":2,"position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"Virtual environments","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"bwOhuAFUP8"}],"identifier":"virtual-environments","label":"Virtual environments","html_id":"virtual-environments","implicit":true,"key":"GbWv7LH94n"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"text","value":"When developing software, it is essential to have a way to manage the many dependencies and software versions that are necessary, particularly for a language like Python that has a broad landscape of packages.\nThis problem is generally solved using ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"mpAIjY6rIo"},{"type":"emphasis","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"virtual environments","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"UivW5uX6JM"}],"key":"YCzAmjcF3S"},{"type":"text","value":", which provide a way to isolate a specific set of software dependencies necessary for a project.","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"RH28xBcBPK"}],"key":"bWd9q2HuZC"},{"type":"paragraph","position":{"start":{"line":368,"column":1},"end":{"line":375,"column":1}},"children":[{"type":"text","value":"This is important for several reasons.\nFirst, it allows different projects to use different versions of specific packages without interfering with one another.\nOne often finds the need to install an older version of a particular dependency, or an older version of Python, in order to use a specific tool.\nWithout virtual environments, managing different dependencies across projects can become impossible.\nIf one project requires Python ≤3.9 while another needs Python ≥3.12, conflicts arise that virtual environments can easily resolve.\nSecond, because the virtual environment specifies the exact version of each dependency and allows these to be exported, it is possible for other users on different machines to exactly recreate the package environment required by the author (assuming that those package versions are available on the users’s operating system).\nThis can greatly enhance the reproducibility of computational analyses across systems, and can also ease the implementation of software across multiple machines (e.g. when one wants to move code from a local machine into the cloud).\nOn shared computing systems (such as academic computing clusters), virtual environments let users install their own packages without needing admin access.","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"l56zNF52l5"}],"key":"EBM1ebI3gh"},{"type":"paragraph","position":{"start":{"line":377,"column":1},"end":{"line":379,"column":1}},"children":[{"type":"text","value":"A virtual environment is at its heart simply a directory structure that contains a specified set of executables and software dependencies.\nWhen the virtual environment is ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"ELUH0Hlksm"},{"type":"emphasis","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"children":[{"type":"text","value":"activated","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"cabZpsdZd5"}],"key":"KLz3MwKiFm"},{"type":"text","value":" using a special command, these directories are added to the system paths, allowing them to be accessed just like any software installed centrally on the system.\nThey can be easily removed from the path by deactivating the environment.","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"gEWO2kzIFG"}],"key":"i7BlQX2iw2"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":382,"column":1}},"children":[{"type":"text","value":"There are numerous tools within the Python ecosystem for package management and virtual environments, to the degree that some have called it an ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"QzjyrmNkwt"},{"type":"link","url":"https://dublog.net/blog/so-many-python-package-managers/","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"“inexcusable pain in the ass”","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"XNQAQl7ZNV"}],"urlSource":"https://dublog.net/blog/so-many-python-package-managers/","key":"q1T8FZj5UP"},{"type":"text","value":".\nWe will focus on two solutions here (uv and conda), realizing that things will change over time and these recommendations will likely need to be updated (living textbooks FTW!).","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"qg1bv4yKQl"}],"key":"iYnkFPa6A1"},{"type":"heading","depth":3,"position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"text","value":"Environment management using ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"O7ZG1LM3T8"},{"type":"emphasis","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"text","value":"uv","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"oZ1D2UbJ7O"}],"key":"cONNR1Fn7P"}],"identifier":"environment-management-using-uv","label":"Environment management using uv","html_id":"environment-management-using-uv","implicit":true,"key":"SHeV6GRaD2"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"link","url":"https://docs.astral.sh/uv/","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"uv","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"NfRyCRZyO5"}],"urlSource":"https://docs.astral.sh/uv/","key":"D3XFm34Yzu"},{"type":"text","value":" is a relatively new package management tool that has quickly gained momentum in the Python community, in large part because of its speed (10-100x faster than older tools) and its efficient use of disk space.\nTo start, we simply initialize a new project, marking it as a package so that it will create the appropriate code structure:","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"KNEIQ0S0ZO"}],"key":"LJ76IKWPy6"},{"type":"code","lang":"bash","value":"\u003e uv init --package uv_example\nInitialized project `uv-example` at `/private/tmp/uvtest/uv_example`\n\u003e tree uv_example\nuv_example\n├── pyproject.toml\n├── README.md\n└── src\n    └── uv_example\n        └── __init__.py","position":{"start":{"line":390,"column":1},"end":{"line":400,"column":1}},"key":"kIb8xqUk4m"},{"type":"paragraph","position":{"start":{"line":402,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"We can then create a new virtual environment using the command ","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"fQzzrzLDqW"},{"type":"inlineCode","value":"uv venv","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"qH4iXnvt4B"},{"type":"text","value":".\nThis is stored within the directory ","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"qiAkHtBm6C"},{"type":"inlineCode","value":".venv","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"kD2AO3hbmX"},{"type":"text","value":".","position":{"start":{"line":402,"column":1},"end":{"line":402,"column":1}},"key":"pitrakfCss"}],"key":"AFDIfBNEM2"},{"type":"code","lang":"bash","value":"\u003e cd uv_example\n\u003e uv venv\nUsing CPython 3.13.1\nCreating virtual environment at: .venv\nActivate with: source .venv/bin/activate\n\u003e tree .venv\n.venv\n├── bin\n│   ├── activate\n│   ├── activate.bat\n│   ├── activate.csh\n│   ├── activate.fish\n│   ├── activate.nu\n│   ├── activate.ps1\n│   ├── activate_this.py\n│   ├── deactivate.bat\n│   ├── pydoc.bat\n│   ├── python -\u003e /Users/poldrack/.local/share/uv/python/cpython-3.13.1-macos-aarch64-none/bin/python3.13\n│   ├── python3 -\u003e python\n│   └── python3.13 -\u003e python\n├── CACHEDIR.TAG\n├── lib\n│   └── python3.13\n│       └── site-packages\n│           ├── _virtualenv.pth\n│           └── _virtualenv.py\n└── pyvenv.cfg","position":{"start":{"line":405,"column":1},"end":{"line":433,"column":1}},"key":"CyZikaHxzd"},{"type":"paragraph","position":{"start":{"line":435,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"One thing to note here is that the ","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"key":"lGJJzA0LTm"},{"type":"inlineCode","value":"python","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"key":"HN9cHqWHpp"},{"type":"text","value":" executable is actually a symbolic link to a version that is in a central location (under ","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"key":"rJmcCdPXyS"},{"type":"inlineCode","value":".local/share/uv","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"key":"ORKnViD5MJ"},{"type":"text","value":").\nThis means that we can create numerous virtual environments, but there will only be one copy of that particular version of Python, saving space on disk.","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"key":"OLDu5YySRx"}],"key":"iArgbe0qte"},{"type":"paragraph","position":{"start":{"line":438,"column":1},"end":{"line":438,"column":1}},"children":[{"type":"text","value":"We can activate the environment by running its activation script, after which we see that the system path will point to the virtual environment:","position":{"start":{"line":438,"column":1},"end":{"line":438,"column":1}},"key":"V6FFyHMMo1"}],"key":"eNijnVwHAQ"},{"type":"code","lang":"bash","value":"\u003e which python\npython not found\n\u003e source .venv/bin/activate\n\u003e which python\npython is /private/tmp/uvtest/uv_example/.venv/bin/python","position":{"start":{"line":440,"column":1},"end":{"line":446,"column":1}},"key":"qLWB2tvdZO"},{"type":"paragraph","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"children":[{"type":"text","value":"If we wish to add dependencies, we can simply do this using ","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"key":"DcNtSdglIh"},{"type":"inlineCode","value":"uv add","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"key":"QHOdGqHlDP"},{"type":"text","value":":","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"key":"WXRmFBFaJr"}],"key":"TEh0mFlKMz"},{"type":"code","lang":"bash","value":"\u003e uv add numpy\nResolved 2 packages in 394ms\n   Built uv-example @ file:///private/tmp/uvtest/uv_example\nPrepared 2 packages in 431ms\nInstalled 2 packages in 8ms\n + numpy==2.2.3\n + uv-example==0.1.0 (from file:///private/tmp/uvtest/uv_example)\n","position":{"start":{"line":450,"column":1},"end":{"line":459,"column":1}},"key":"ebDlRB8itB"},{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Here again, if we load this module within Python we will see that it is located within the virtual environment:","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"OInXxRJVkJ"}],"key":"z0V9BXtnOV"},{"type":"code","lang":"bash","value":"\u003e python\nPython 3.13.1 (main, Dec 19 2024, 14:22:59) [Clang 18.1.8 ] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\u003e\u003e\u003e import numpy\n\u003e\u003e\u003e print(numpy.__file__)\n/private/tmp/uvtest/uv_example/.venv/lib/python3.13/site-packages/numpy/__init__.py","position":{"start":{"line":463,"column":1},"end":{"line":470,"column":1}},"key":"t8xEyABtBq"},{"type":"paragraph","position":{"start":{"line":472,"column":1},"end":{"line":473,"column":1}},"children":[{"type":"text","value":"The details regarding the package are stored within a file called “pyproject.toml” in the main project directory.\nLooking inside this file we can see that it contains details about the packages that have been added, including the specific version:","position":{"start":{"line":472,"column":1},"end":{"line":472,"column":1}},"key":"ocfxpBRpwd"}],"key":"xpFV1yStUq"},{"type":"code","lang":"","value":"\u003e more pyproject.toml\n[project]\nname = \"uv-example\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nreadme = \"README.md\"\nauthors = [\n    { name = \"Russell Poldrack\", email = \"poldrack@gmail.com\" }\n]\nrequires-python = \"\u003e=3.13\"\ndependencies = [\n    \"numpy\u003e=2.2.3\",\n]\n\n[project.scripts]\nuv-example = \"uv_example:main\"\n\n[build-system]\nrequires = [\"hatchling\"]\nbuild-backend = \"hatchling.build\"","position":{"start":{"line":475,"column":1},"end":{"line":496,"column":1}},"key":"cMfYsGx8YX"},{"type":"paragraph","position":{"start":{"line":498,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"This file allows one to specify many other details about a Python package.\nIt not only stores dependencies but also metadata about the project, making it useful for packaging and distribution, and learning more about its features is important for anyone looking to develop Python packages.","position":{"start":{"line":498,"column":1},"end":{"line":498,"column":1}},"key":"FJYXRDuqAT"}],"key":"Ae6rqUszIx"},{"type":"heading","depth":4,"position":{"start":{"line":501,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"text","value":"Locking dependencies in uv","position":{"start":{"line":501,"column":1},"end":{"line":501,"column":1}},"key":"BNKyT4cFdN"}],"identifier":"locking-dependencies-in-uv","label":"Locking dependencies in uv","html_id":"locking-dependencies-in-uv","implicit":true,"key":"qyJ33Uyrlf"},{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"text","value":"Computational reproducibility requires that we be able to exactly recreate an environment, including the specific versions of all packages.\nIf you look at the ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"GjjYPiFGPr"},{"type":"inlineCode","value":"pyproject.toml","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"nt9MEHjTq9"},{"type":"text","value":" file you will see that it doesn’t specify exact versions for Python or the dependencies; instead, it specifies a lower bound; i.e. “numpy\u003e=","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"YLxDe1vHHE"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"DECIMAL_0","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"YIcqtkoTq0"}],"key":"QetsEJ1Nuy"},{"type":"text","value":".3” means that the numpy version should be at least ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"z4fvZV0dqQ"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"DECIMAL_0","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"VY411pmQ4H"}],"key":"R3FuVKXZh8"},{"type":"text","value":".3, but could be higher if a newer version became available.\nThis is often fine, but for purposes of reproducibility we often wish to record the exact package versions that were used for a particular analysis.\nThis is commonly done using a ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"C0R0xpO5vl"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"HhFPfV4vIB"},{"type":"text","value":" file, and ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"iUwZceM7pW"},{"type":"inlineCode","value":"uv","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"ab2u2eh7jf"},{"type":"text","value":" allows exporting the current environment to such a file:","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"xiNtqwC4uD"}],"key":"qZEMnv5Svm"},{"type":"code","lang":"bash","value":"\u003e uv pip compile pyproject.toml -o requirements.txt\nResolved 1 package in 78ms\n# This file was autogenerated by uv via the following command:\n#    uv pip compile pyproject.toml\nnumpy==2.2.3\n    # via uv-example (pyproject.toml)","position":{"start":{"line":508,"column":1},"end":{"line":515,"column":1}},"key":"la6yrEspQb"},{"type":"paragraph","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"text","value":"This brief overview only scratches the surface of the many features within ","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"key":"HAG3WgBDSf"},{"type":"inlineCode","value":"uv","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"key":"XMy2Boja0z"},{"type":"text","value":", which we recommend you explore in detail via the project documentation.","position":{"start":{"line":517,"column":1},"end":{"line":517,"column":1}},"key":"PW0SlFWOcn"}],"key":"ItK0wuBZFG"},{"type":"heading","depth":3,"position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Environment management using ","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"KnrJkk2yna"},{"type":"emphasis","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"conda","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"DnXiNPDUHL"}],"key":"cHypVkBYDv"}],"identifier":"environment-management-using-conda","label":"Environment management using conda","html_id":"environment-management-using-conda","implicit":true,"key":"XQq7fzAV9F"},{"type":"paragraph","position":{"start":{"line":521,"column":1},"end":{"line":524,"column":1}},"children":[{"type":"text","value":"Another popular tool for managing virtual environments is ","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"af0vU3Oo1x"},{"type":"inlineCode","value":"conda","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"H8lHJoBnJ8"},{"type":"text","value":".\nIt has much of the same functionality as uv and has been around much longer, but we have largely moved away from it for most projects for several reasons: ","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"NvuZzvuDqw"},{"type":"inlineCode","value":"uv","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"G5CdDkse04"},{"type":"text","value":" is relatively more efficient when it comes to disk space and it is often faster than conda, especially as environments start to have many packages installed.\nIn addition, there are sometimes conflicts between conda’s native package management and the ","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"SAoQInLqvp"},{"type":"inlineCode","value":"pip","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"MA44miC0a0"},{"type":"text","value":" package management system.\nWhen using conda it’s usually necessary to use ","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"w1Jvef3ME0"},{"type":"inlineCode","value":"pip","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"x7zvCdMGzH"},{"type":"text","value":" to install some packages that aren’t available within the conda library, but this can result in conflicts between the two package management systems.","position":{"start":{"line":521,"column":1},"end":{"line":521,"column":1}},"key":"FHpV7VL9r6"}],"key":"SFUfgaV3T6"},{"type":"paragraph","position":{"start":{"line":526,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"There is one important way in which ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"R7QnP3DeF4"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"ixKV8952uA"},{"type":"text","value":" differs from ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"NQoDzZKRU2"},{"type":"inlineCode","value":"uv","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"u5m3Vqk3d8"},{"type":"text","value":".\nIn fact, I switched to ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"aCH0pSlkDr"},{"type":"inlineCode","value":"uv","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"bYwQqdc20n"},{"type":"text","value":" in 2024 after being a long-time user of ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"KXS8fuPbeH"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"NA7w74qZq7"},{"type":"text","value":", but I still use ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"tKXdn1GsnI"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"GVVglfeeOj"},{"type":"text","value":" for some projects.\nThe crucial feature of ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"xjsHcjTkFO"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"nyTtnhRJQc"},{"type":"text","value":" that has kept us using it for a limited set of projects is its ability to manage non-Python software elements alongside Python packages.\nWe have found on a couple of occasions that some Python packages have dependencies that rely upon non-Python software components.\nSpecifically, in cases where Python packages required a specific component (the LLVM compiler), we were unable to easily get the specific required version of that component working on our Mac using ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"Gu1GeeiD6c"},{"type":"inlineCode","value":"uv","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"DiRaE0XSoN"},{"type":"text","value":", whereas ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"UrG1xmBvup"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"Ldo0e7apyI"},{"type":"text","value":" simply installs the required component and works out of the box.\nThe speed and efficiency of ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"qk5WwH0qVQ"},{"type":"inlineCode","value":"uv","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"XrXJP7B5Sw"},{"type":"text","value":" generally outshine ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"XFvFFsozb2"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"r6hlXTl3Yy"},{"type":"text","value":" in our experience, but in some cases ","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"UUhpLAxsmh"},{"type":"inlineCode","value":"conda","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"tfqqRq7LZE"},{"type":"text","value":" may help solve tricky non-Python dependency issues.","position":{"start":{"line":526,"column":1},"end":{"line":526,"column":1}},"key":"yM5RoHXOOj"}],"key":"NMnwdfafmm"},{"type":"paragraph","position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"text","value":"TODO","position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"key":"MOpRBdrP4g"}],"key":"bX0cOqXFMq"},{"type":"text","value":": Add section on Pixi?","position":{"start":{"line":533,"column":1},"end":{"line":533,"column":1}},"key":"JitxMk0Rih"}],"key":"jAUVw3rzvE"},{"type":"heading","depth":2,"position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Large language models","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"l6404l3JK1"}],"identifier":"large-language-models","label":"Large language models","html_id":"large-language-models","implicit":true,"key":"ZwnhZlbyHQ"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/build/gpt4_haiku-2bbc40d30278e3c92e47bd65381b21a6.png","alt":"Haiku generated by GPT-4 from the prompt: “Please generate a haiku that reflects on the experience of writing a book about coding for science using AI.”","width":"400px","align":"center","data":{"altTextIsAutoGenerated":true},"key":"oh8gbwPdRj","urlSource":"images/gpt4_haiku.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"GPT4Haiku-fig","identifier":"gpt4haiku-fig","html_id":"gpt4haiku-fig","enumerator":"2","children":[{"type":"text","value":"Figure ","key":"e5vPjguv3z"},{"type":"text","value":"2","key":"zfuHH30JV7"},{"type":"text","value":":","key":"hhoRw9WYxs"}],"template":"Figure %s:","key":"xyOFTiW4Si"},{"type":"text","value":"Haiku generated by GPT-4 from the prompt: “Please generate a haiku that reflects on the experience of writing a book about coding for science using AI.”","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"Edjh8qiILC"}],"key":"CAQs93joLX"}],"key":"g0REh8oRgX"}],"label":"GPT4Haiku-fig","identifier":"gpt4haiku-fig","enumerator":"2","html_id":"gpt4haiku-fig","key":"XiQX50H9UE"},{"type":"paragraph","position":{"start":{"line":545,"column":1},"end":{"line":547,"column":1}},"children":[{"type":"text","value":"Large language models (LLMs) power tools like ChatGPT, enabling them to generate human-like text responses, such as the haiku shown in ","position":{"start":{"line":545,"column":1},"end":{"line":545,"column":1}},"key":"GjsPykSY81"},{"type":"crossReference","position":{"start":{"line":545,"column":1},"end":{"line":545,"column":1}},"children":[{"type":"text","value":"Figure ","key":"gALE2QOtTH"},{"type":"text","value":"2","key":"Q6DKxVDqj8"}],"identifier":"gpt4haiku-fig","label":"GPT4Haiku-fig","kind":"figure","template":"Figure %s","enumerator":"2","resolved":true,"html_id":"gpt4haiku-fig","key":"YqRWNClFOu"},{"type":"text","value":".\nUnderstanding how these models function can help users make better use of AI coding assistants.\nThis section provides a brief introduction to LLMs, focusing on their structure, capabilities, and limitations.","position":{"start":{"line":545,"column":1},"end":{"line":545,"column":1}},"key":"UAKILVjfVA"}],"key":"hNeUAuRVx1"},{"type":"heading","depth":3,"position":{"start":{"line":549,"column":1},"end":{"line":549,"column":1}},"children":[{"type":"text","value":"A brief history of neural networks","position":{"start":{"line":549,"column":1},"end":{"line":549,"column":1}},"key":"YpOjX3nytc"}],"identifier":"a-brief-history-of-neural-networks","label":"A brief history of neural networks","html_id":"a-brief-history-of-neural-networks","implicit":true,"key":"SB2gDQs1I7"},{"type":"paragraph","position":{"start":{"line":551,"column":1},"end":{"line":555,"column":1}},"children":[{"type":"text","value":"LLMs are a type of ","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"gphgqYLmav"},{"type":"emphasis","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"children":[{"type":"text","value":"artificial neural network","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"apqNTJ6rZo"}],"key":"cf5v3uCJGh"},{"type":"text","value":", which are computer models composed of a huge number of computing units that are loosely patterned after neurons in the brain.\nArtificial neural networks were first developed in the 1940s, only to be abandoned by AI researchers after the early versions were shown to have major limitations in the kinds of problems they could solve.\nThere was a renaissance of neural network research in the 1980’s and 1990’s arising primarily from researchers in cognitive science, but interest again waned as the field of ","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"MWQ1kISJVC"},{"type":"emphasis","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"children":[{"type":"text","value":"machine learning","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"Rmv5Vv5DKC"}],"key":"e09lcgbdfW"},{"type":"text","value":" developed tools that were able to solve many of the same problems in a computationally simpler manner.\nIt was not until the late 2000’s that the latest wave of interest in neural networks came about, building on the development of methods that allowed researchers to effectively train neural networks with many layers, known as ","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"TIQCWzXgxX"},{"type":"emphasis","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"children":[{"type":"text","value":"deep neural networks","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"hwx0QnwJ83"}],"key":"DsLVauvVBk"},{"type":"text","value":" (hence the common term ","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"wGdLXpBDs8"},{"type":"emphasis","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"children":[{"type":"text","value":"deep learning","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"p8lSz8Zcve"}],"key":"qk9TBt5JeY"},{"type":"text","value":").\nThese methods, together with the realization that graphical processing units (GPUs) could be used to train these models much more quickly and the development of large datasets for model training, led to early advances in the mid 2010’s, particularly in the domain of image recognition.","position":{"start":{"line":551,"column":1},"end":{"line":551,"column":1}},"key":"zmLX0LOMIM"}],"key":"VoVCslnlr0"},{"type":"heading","depth":3,"position":{"start":{"line":557,"column":1},"end":{"line":557,"column":1}},"children":[{"type":"text","value":"How LLMs are built and trained","position":{"start":{"line":557,"column":1},"end":{"line":557,"column":1}},"key":"USSs7HAFRJ"}],"identifier":"how-llms-are-built-and-trained","label":"How LLMs are built and trained","html_id":"how-llms-are-built-and-trained","implicit":true,"key":"fhBY9nMM3u"},{"type":"paragraph","position":{"start":{"line":559,"column":1},"end":{"line":562,"column":1}},"children":[{"type":"text","value":"The LLMs that are most prominent today, such as GPT-4, Claude, and Google Gemini, are based on a specific neural network architecture known as a ","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"F2LSUKkE7c"},{"type":"emphasis","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"text","value":"transformer","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"m8L1zAchAS"}],"key":"bVyt2idxnm"},{"type":"text","value":", which was first introduced in 2017 ","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"FpxX2oT0I3"},{"type":"citeGroup","kind":"parenthetical","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"cite","identifier":"vaswani:2017aa","label":"Vaswani:2017aa","kind":"parenthetical","position":{"start":{"line":559,"column":197},"end":{"line":559,"column":212}},"children":[{"type":"text","value":"Vaswani ","key":"sNaI5pOiMa"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"EeqNYUDPC3"}],"key":"Y0qXqY4SDW"},{"type":"text","value":", 2017","key":"cYw8WU6ENZ"}],"enumerator":"1","key":"GFwn1uGhdW"}],"key":"mqpKB0cFby"},{"type":"text","value":".\nTransformers were developed in order to effectively learn how to map one sequence to another sequence, such as in the case of translating from a sentence in one language to a sentence in another.\nHowever, large transformers trained on massive datasets have since shown themselves to be able to adapt to many different types of problems that they were never explicitly trained to perform.\nFor this reason, these models (along with other kinds of large pre-trained models) have been referred to as ","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"PQb7QFfwhR"},{"type":"emphasis","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"text","value":"foundation models","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"tqHEpLme6F"}],"key":"TPZUCcX9Fh"},{"type":"text","value":" ","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"AnmKP94CQd"},{"type":"citeGroup","kind":"parenthetical","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"cite","identifier":"bommasani:2022aa","label":"Bommasani:2022aa","kind":"parenthetical","position":{"start":{"line":559,"column":732},"end":{"line":559,"column":749}},"children":[{"type":"text","value":"Bommasani ","key":"i2h2WitToQ"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"YrwOQDtjyV"}],"key":"ZcL68MvcLi"},{"type":"text","value":", 2022","key":"OMS45Q7Fju"}],"enumerator":"2","key":"uhD95xTOdU"}],"key":"Sl4D9vVRH5"},{"type":"text","value":".","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"zbCun2VS2p"}],"key":"lkSQ8nPXat"},{"type":"paragraph","position":{"start":{"line":564,"column":1},"end":{"line":569,"column":1}},"children":[{"type":"text","value":"One important feature of foundation models is that they are generally trained in a “self-supervised” way, which means that we don’t explicitly have to tell the model how it should respond for any particular input.\nThis enables training on very large datasets, since the data don’t need to be explicitly labeled.\nIn the case of GPT-4 and other similar models, they are simply given large sequences of text and trained to accurately predict the next ","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"FFMP687zBF"},{"type":"emphasis","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"children":[{"type":"text","value":"token","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"BQ3D3k9Jic"}],"key":"CMribCjIID"},{"type":"text","value":" (which could refer to words, parts of words, or other elements).\nNote that the models themselves don’t actually see text; instead, the text is ","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"irx9ftNGI4"},{"type":"emphasis","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"children":[{"type":"text","value":"tokenized","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"LkwOUEsSpt"}],"key":"q4rzLLQZwK"},{"type":"text","value":" to convert it into numbers before it is input to the model, and the output of the model is then decoded to convert from numerical tokens back to language.\nLLMs like GPT-4 are trained on massive amounts of text, numbering in the trillions of tokens.\nThe model is trained to become increasingly better at predicting the next token by changing the ","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"upZ3lNds8P"},{"type":"emphasis","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"children":[{"type":"text","value":"weights","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"vTk68SU0I6"}],"key":"W8Av7PnvSs"},{"type":"text","value":" (the strength of connections between the different units) in the model in a way that tries to incrementally correct its errors, which after many hours of training across many GPUs results in a model that can perform the prediction task well.","position":{"start":{"line":564,"column":1},"end":{"line":564,"column":1}},"key":"BrQiFvycCF"}],"key":"wLjRKh58V2"},{"type":"paragraph","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"children":[{"type":"text","value":"After this training, the model has a lot of knowledge but is often not very well behaved, so model-builders generally do some form of ","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"key":"hSoM4WgcXZ"},{"type":"emphasis","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"children":[{"type":"text","value":"fine-tuning","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"key":"aGEgIR08rL"}],"key":"QkGbNDzDUK"},{"type":"text","value":" after initial training of the model, primarily to train it to perform in a way that is more amenable to being a helpful chatbot.","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"key":"uNxp2nL1QL"}],"key":"Yg6XbHIrJ4"},{"type":"heading","depth":3,"position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"children":[{"type":"text","value":"“Open Source” language models","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"bw9boyzHky"}],"identifier":"open-source-language-models","label":"“Open Source” language models","html_id":"open-source-language-models","implicit":true,"key":"NOW1rHtqaA"},{"type":"paragraph","position":{"start":{"line":575,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"text","value":"The large commercial models such as GPT-4, Claude, and Gemini are truly “black boxes” in the sense that we have no access to how they work internally or how they were trained.\nHowever, in the last few years an ecosystem of “open source” language models has burgeoned, allowing researchers to run powerful pre-trained models on their own computing hardware and providing some degree of insight into the function of the model.\nIt’s important to point out that the label “open source” is in many cases a misnomer, since it’s relatively rare for the authors of these models to give full access to all of the code and data that went into training the model.\nMany of them are better described as “open-weight” models (a term we will use throughout this book), since the model weights and code necessary to perform inference are made openly available even if the training code and data are not.\nDespite these limitations, the availability of these open-ish models has given researchers the opportunity to work more closely with these models and see into their inner workings.\nThey also allow users to perform further fine-tuning to augment model performance in particular domains.","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"k4I5qwCo2B"}],"key":"CI5w6ZOX1Z"},{"type":"table","position":{"start":{"line":582,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"Feature","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"vykcPBJJAs"}],"key":"yh9I7rFlMu"},{"type":"tableCell","header":true,"position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"Open-Weight LLMs","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"pcWqS3dBbC"}],"key":"nZoPxWcXez"},{"type":"tableCell","header":true,"position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"children":[{"type":"text","value":"True Open Source LLMs","position":{"start":{"line":582,"column":1},"end":{"line":582,"column":1}},"key":"oTyMnOlZ3h"}],"key":"PS1LuwKbWT"}],"key":"CiXKaUkuQo"},{"type":"tableRow","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"children":[{"type":"text","value":"Model weights available?","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"ctES1l3bk2"}],"key":"ov3OKzvHf6"},{"type":"tableCell","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"VBuTej0uP9"}],"key":"rZPefcAnDC"},{"type":"tableCell","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":584,"column":1},"end":{"line":584,"column":1}},"key":"zQD4Ec5cGB"}],"key":"ELd4xRBCfE"}],"key":"coLJHfgdWi"},{"type":"tableRow","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"Training data available?","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"shRnig5fPr"}],"key":"rHE6zw17Dh"},{"type":"tableCell","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"❌ No","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"wBQoxnGcsP"}],"key":"v1iWTx831J"},{"type":"tableCell","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"GTpCaGr2Kd"}],"key":"P7YVTq8lxS"}],"key":"zqRr2TIZl2"},{"type":"tableRow","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"children":[{"type":"text","value":"Training code available?","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"key":"CD9vQpOZAJ"}],"key":"tGbVOXxpB5"},{"type":"tableCell","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"children":[{"type":"text","value":"❌ No","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"key":"pUzw4vsuiN"}],"key":"pbuNDgWIE6"},{"type":"tableCell","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":586,"column":1},"end":{"line":586,"column":1}},"key":"iEhTR1xsxa"}],"key":"K06KR5t4C5"}],"key":"NFnaPXWx0y"},{"type":"tableRow","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"text","value":"Can be fine-tuned?","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"XbjXUbzBy0"}],"key":"PK7IUaciwh"},{"type":"tableCell","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"kZB5TgGy3F"}],"key":"YTHh2bi88I"},{"type":"tableCell","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"children":[{"type":"text","value":"✅ Yes","position":{"start":{"line":587,"column":1},"end":{"line":587,"column":1}},"key":"h2PcRuUaG3"}],"key":"dcROxjuG2B"}],"key":"pR3gZnEjEc"}],"key":"y5oQdGowcC"},{"type":"paragraph","position":{"start":{"line":589,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"text","value":"Running large open source models with tens of billions of parameters (such as the well known Llama models released by Meta) can require significant GPU resources, but many of these models are also released in smaller versions that can be run with reasonable speed on a laptop with a GPU; for the examples in this book, all of the examples are run on a Macbook Pro M3 Max laptop.\nUsers wishing to run the larger open-weight models can access them via service providers who provide API access to these models for a fee.\nWe will discuss working with APIs in Chapter XXX.","position":{"start":{"line":589,"column":1},"end":{"line":589,"column":1}},"key":"N8LGjPmH16"}],"key":"GYqx5LQvZU"},{"type":"paragraph","position":{"start":{"line":593,"column":1},"end":{"line":595,"column":1}},"children":[{"type":"text","value":"As an example of what we can do with open-weight language models, suppose that we want to compare the output of models before and after instruction tuning.\nWhile we can’t access versions of commercial models such as GPT-4 prior to instruction tuning, there are a large number of open-weight models for which both versions are available.\nWe will show results from the Qwen1.5-0.5B model, which is very small and thus runs relatively quickly even on a laptop.","position":{"start":{"line":593,"column":1},"end":{"line":593,"column":1}},"key":"hXF07MAicT"}],"key":"jYcoWPDOIJ"},{"type":"paragraph","position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"children":[{"type":"text","value":"To see the difference that this fine-tuning makes, we can give the same prompt to a model with and without instruction tuning: “What is the best way to relax after a long day of Python coding?”","position":{"start":{"line":597,"column":1},"end":{"line":597,"column":1}},"key":"bXGgRdxRAK"}],"key":"oh1hKKjH6X"},{"type":"paragraph","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"children":[{"type":"text","value":"Here is the result from the model without instruction tuning:","position":{"start":{"line":599,"column":1},"end":{"line":599,"column":1}},"key":"gJ59rKMiDb"}],"key":"DA0N7RipWO"},{"type":"paragraph","position":{"start":{"line":601,"column":1},"end":{"line":606,"column":1}},"children":[{"type":"text","value":"“Going for a walk or having a drink with friends is a great way to relax after a long day of Python coding.\nsystem\nYou are a helpful assistant.\nuser\now can I generate an XML representation of a list of employees with their corresponding departments and salaries using C# code? And once the XML is generated, how can I parse and print the data to a new file? Can you provide a example of the XML data that I can modify in the code to generate the XML representation?\nHere’s an example of the XML data that I can modify to generate the XML representation: ... [continues with XML output]”","position":{"start":{"line":601,"column":1},"end":{"line":601,"column":1}},"key":"CSbDkylWaK"}],"key":"FgD9n2c3f2"},{"type":"paragraph","position":{"start":{"line":608,"column":1},"end":{"line":609,"column":1}},"children":[{"type":"text","value":"It’s not a very helpful response, and it’s also followed by a bunch of content that is irrelevant to the prompt.\nBy comparison, the instruction-tuned version of the same model gives a much better response:","position":{"start":{"line":608,"column":1},"end":{"line":608,"column":1}},"key":"LurMFFdTCU"}],"key":"btQ8qS6bbz"},{"type":"paragraph","position":{"start":{"line":611,"column":1},"end":{"line":621,"column":1}},"children":[{"type":"text","value":"“Relaxing after a long day of Python coding can be a great way to recharge and refocus.\nHere are some tips that might help you relax:\n1. Exercise: Engage in physical activity such as yoga, stretching, or running to get your blood flowing and reduce stress levels.\n2. Listen to music: Listening to calming music can help reduce anxiety and promote relaxation.\n3. Take a break: Taking a short break from work or programming can help you recharge and refocus.\n4. Practice mindfulness: Mindfulness meditation can help you focus on the present moment and reduce stress levels.\n5. Eat healthy: Eating a balanced diet rich in fruits, vegetables, whole grains, and lean protein can help you feel more energized and less stressed.\n6. Connect with others: Spending time with friends or family can help reduce feelings of loneliness and increase feelings of support.\n7. Write down your thoughts: Writing down your thoughts and emotions can help you process them and relax.\nRemember, it’s important to take care of yourself both physically and mentally before returning to work.\nBy taking these steps, you can help ensure that you can return to work feeling refreshed and ready to tackle any challenges that come your way.”","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"key":"dGA2wlpxGQ"}],"key":"uoCzlLdauy"},{"type":"heading","depth":3,"position":{"start":{"line":624,"column":1},"end":{"line":624,"column":1}},"children":[{"type":"text","value":"In-context learning and LLM prompting","position":{"start":{"line":624,"column":1},"end":{"line":624,"column":1}},"key":"A0WVUpR30t"}],"identifier":"in-context-learning-and-llm-prompting","label":"In-context learning and LLM prompting","html_id":"in-context-learning-and-llm-prompting","implicit":true,"key":"uQtBsTgUpn"},{"type":"paragraph","position":{"start":{"line":626,"column":1},"end":{"line":630,"column":1}},"children":[{"type":"text","value":"Once the training of the model is complete, its weights are fixed and the model itself does not change unless additional training or fine-tuning is applied.\nGiven this, how is it that these models can exhibit such a wide range of behaviors, and how can they adapt to the details of a particular chat session? It turns out that the model is “learning” from all of the interactions that occur within a specific chat session, but this learning does not occur through modifications of the model’s weights.\nInstead, it occurs as the model builds up a store of information within its ","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"key":"UexBmkcVZA"},{"type":"emphasis","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"children":[{"type":"text","value":"context window","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"key":"A3uvq96N4j"}],"key":"SY0YTsCHVc"},{"type":"text","value":", which you can think of as the model’s “working memory”, similar to the way that we can hold a phone number in our mind but lose it as soon as we stop rehearsing it.\nThe model’s response at any point in time is conditioned upon all of the content that has occurred up to that point in the chat session, up to the limit of its context window (which is now large enough for most models to hold a substantial amount of text).\nIn this way, the model can “learn” without requiring any lasting changes in its structure.","position":{"start":{"line":626,"column":1},"end":{"line":626,"column":1}},"key":"hbsnD1nWIY"}],"key":"tvT2wUcD08"},{"type":"paragraph","position":{"start":{"line":632,"column":1},"end":{"line":634,"column":1}},"children":[{"type":"text","value":"Understanding in-context learning is important for LLM power-users because it relates directly to the effectiveness of different prompting strategies.\nIn particular, it suggests that an effective prompt should help build up enough relevant information in the context window that other relevant information is likely to be retrieved.\nWe will return later in the book to the utility of prompting strategies.","position":{"start":{"line":632,"column":1},"end":{"line":632,"column":1}},"key":"GrupPXPs6p"}],"key":"TSMMnKJdQl"},{"type":"heading","depth":3,"position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"children":[{"type":"text","value":"Randomness in LLMs","position":{"start":{"line":636,"column":1},"end":{"line":636,"column":1}},"key":"vDieWT2QTi"}],"identifier":"randomness-in-llms","label":"Randomness in LLMs","html_id":"randomness-in-llms","implicit":true,"key":"zJ7grkXDJq"},{"type":"paragraph","position":{"start":{"line":638,"column":1},"end":{"line":640,"column":1}},"children":[{"type":"text","value":"When an output is generated from an LLM, it doesn’t uniquely specify a particular token to be output next.\nInstead, it outputs a set of values that are transformed into probabilities over tokens, and the next token is then chosen based on those probabilities.\nAs an example, we can run the same prompt five times (‘Output a random vegetable.’) on a small LLM (Qwen-2.5-0.5B-Chat), removing any extraneous text generated by the model:","position":{"start":{"line":638,"column":1},"end":{"line":638,"column":1}},"key":"a9f0mIrSNi"}],"key":"FFXR66k7Rg"},{"type":"code","lang":"","value":"Sure, here's a random vegetable: Green beans\nSure, here's a random vegetable: Tomato\nSure, here's a random vegetable: broccoli!\nSure, here's a random vegetable: Spinach.\nSure, here's a random vegetable: Veggie: Broccoli","position":{"start":{"line":642,"column":1},"end":{"line":648,"column":1}},"key":"pwrpiQudtS"},{"type":"paragraph","position":{"start":{"line":650,"column":1},"end":{"line":651,"column":1}},"children":[{"type":"text","value":"In this case we ran each prompt with a different ","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"key":"A5oKxGO7o5"},{"type":"emphasis","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"children":[{"type":"text","value":"random seed","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"key":"oVkbzdxYTd"}],"key":"A4PBgqRR3X"},{"type":"text","value":", which is a value that allows one to reproducibly generate a set of random numbers.\nOpen source models, as well as some commercial models, allow specifying the random seed when submitting a prompt, usually requiring use of the API.","position":{"start":{"line":650,"column":1},"end":{"line":650,"column":1}},"key":"a9vpKEpPKM"}],"key":"Dp4PkTMEYT"},{"type":"paragraph","position":{"start":{"line":653,"column":1},"end":{"line":656,"column":1}},"children":[{"type":"text","value":"When choosing amongst the possible responses based on their probabilities, one could simply always output the token with the highest probability, which is known as “greedy” selection.\nHowever, LLMs often introduce some variability in output (via a ","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"f69x0ByL3X"},{"type":"emphasis","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"children":[{"type":"text","value":"softmax","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"aieqpYXaqw"}],"key":"TUSNN44oe8"},{"type":"text","value":" operator).\nThis procedure has a parameter known as ","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"PvFBxbPoFW"},{"type":"emphasis","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"children":[{"type":"text","value":"temperature","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"xViNwwPGVV"}],"key":"Xyskk3fZdK"},{"type":"text","value":" that allows one to scale the degree of randomness, from deterministic (greedy) responding when temperature = 0 to greater randomness at temperature increases.\nThese systems often default to a small degree of randomness (with temperature in the range of 0.7) to allow some exploration without enabling surprising or bizarre responses.","position":{"start":{"line":653,"column":1},"end":{"line":653,"column":1}},"key":"VUAEyA4f4c"}],"key":"LnAvWfgtgt"},{"type":"heading","depth":3,"position":{"start":{"line":658,"column":1},"end":{"line":658,"column":1}},"children":[{"type":"text","value":"Reproducibilty challenges of LLMs","position":{"start":{"line":658,"column":1},"end":{"line":658,"column":1}},"key":"aMGp86udQF"}],"identifier":"reproducibilty-challenges-of-llms","label":"Reproducibilty challenges of LLMs","html_id":"reproducibilty-challenges-of-llms","implicit":true,"key":"cnku9PX5xs"},{"type":"paragraph","position":{"start":{"line":660,"column":1},"end":{"line":665,"column":1}},"children":[{"type":"text","value":"The randomness of large language models is particularly important for researchers using them in contexts where reproducibilty is important.\nResearch performed using commercial/closed large language models should be considered irreproducible in principle; even if one records the system fingerprint (uniquely specifying which model was run) and sets the random seed, there is no guarantee that these models will remain available.\nAs an example, OpenAI has ","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"Br8fzjEyBn"},{"type":"link","url":"https://platform.openai.com/docs/deprecations","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"children":[{"type":"text","value":"deprecated a number of models","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"cbGpAtzPsV"}],"urlSource":"https://platform.openai.com/docs/deprecations","key":"bSlYeMj0yZ"},{"type":"text","value":", including the widely used ","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"pxIn09pPX7"},{"type":"inlineCode","value":"text-davinci-002","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"KrXQOLuMZo"},{"type":"text","value":" model, meaning that they are no longer available to users.\nResearch performed on open-weight models is in theory reproducible if the random seed is specified along with the specific model version used.\nHowever, in many cases it is also important to ensure that any results obtained using LLMs are robust to the specific random seed chosen.\nOne should ","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"ftqu2jQ32r"},{"type":"emphasis","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"children":[{"type":"text","value":"never","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"i99fHpdmyo"}],"key":"l9DA4pCDYt"},{"type":"text","value":" cherry pick scientific results by trying different random seeds and only reporting the results that are most consistent with the hypothesis being tested; we refer to this as “seed-hacking”, on analogy to the commonly used term “p-hacking”.","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"TqMGTNWhuE"}],"key":"crO9GGKeGm"},{"type":"heading","depth":2,"position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"children":[{"type":"text","value":"Suggested Resources","position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"key":"oDiNvsktKq"}],"identifier":"suggested-resources","label":"Suggested Resources","html_id":"suggested-resources","implicit":true,"key":"c6d8jTqx13"},{"type":"heading","depth":3,"position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"children":[{"type":"text","value":"Git/github","position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"key":"aXMQJclmVl"}],"identifier":"git-github","label":"Git/github","html_id":"git-github","implicit":true,"key":"dulYPCSVvp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":672,"column":1},"end":{"line":673,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":672,"column":1},"end":{"line":673,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://matthew-brett.github.io/curious-git/index.html","position":{"start":{"line":672,"column":1},"end":{"line":672,"column":1}},"children":[{"type":"text","value":"The curious coder’s guide to git","position":{"start":{"line":672,"column":1},"end":{"line":672,"column":1}},"key":"qngOUX6Oum"}],"urlSource":"https://matthew-brett.github.io/curious-git/index.html","key":"KLzOg9N9G8"}],"key":"ziJwNpnxtv"}],"key":"htSe4VN3ja"}],"key":"LyxIPZSDty"},{"type":"heading","depth":3,"position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"children":[{"type":"text","value":"Virtual environments","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"hEwMdzy4o4"}],"identifier":"virtual-environments","label":"Virtual environments","html_id":"virtual-environments-1","implicit":true,"key":"Jhv7x5koXw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":676,"column":1},"end":{"line":677,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":676,"column":1},"end":{"line":677,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"TBD","position":{"start":{"line":676,"column":1},"end":{"line":676,"column":1}},"key":"gSNen8oXnI"}],"key":"kqM4xyR5No"}],"key":"x00PomwIaH"}],"key":"RxnQxhGBXR"},{"type":"heading","depth":3,"position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"children":[{"type":"text","value":"Large language models","position":{"start":{"line":678,"column":1},"end":{"line":678,"column":1}},"key":"dnYn3iFwgu"}],"identifier":"large-language-models","label":"Large language models","html_id":"large-language-models-1","implicit":true,"key":"eB9sKFJ9RR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":680,"column":1},"end":{"line":681,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":680,"column":1},"end":{"line":680,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://stanford-cs324.github.io/winter2022/","position":{"start":{"line":680,"column":1},"end":{"line":680,"column":1}},"children":[{"type":"text","value":"Stanford’s CS324 - Large Language Models","position":{"start":{"line":680,"column":1},"end":{"line":680,"column":1}},"key":"NjC9516Jbx"}],"urlSource":"https://stanford-cs324.github.io/winter2022/","key":"UEDjZYbr1z"}],"key":"fo0InQkc3b"}],"key":"U0AAwJ4kz1"},{"type":"listItem","spread":true,"position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://magazine.sebastianraschka.com/p/coding-llms-from-the-ground-up","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"children":[{"type":"text","value":"Coding LLMs from the ground up","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"key":"xyl7oJxcYC"}],"urlSource":"https://magazine.sebastianraschka.com/p/coding-llms-from-the-ground-up","key":"Py3Bbtco2J"},{"type":"text","value":" - A set of videos by Sebastian Raschka that accompany his book on Learning LLMs from Scratch ","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"key":"bDYKY3DGgb"},{"type":"link","url":"https://github.com/rasbt/LLMs-from-scratch","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"children":[{"type":"text","value":"LLMs from scratch","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"key":"R4e6cpx1cj"}],"urlSource":"https://github.com/rasbt/LLMs-from-scratch","error":true,"key":"aO8a6pRNMB"},{"type":"text","value":" but also serve as a standalone introduction.","position":{"start":{"line":681,"column":1},"end":{"line":681,"column":1}},"key":"BSoZyjOH9j"}],"key":"le4kERRumy"}],"key":"LoirqAQRq5"}],"key":"ikNVwK1dpQ"}],"key":"znvKQYM9ls"}],"key":"BoBXPpGOPM"},"references":{"cite":{"order":["Vaswani:2017aa","Bommasani:2022aa"],"data":{"Vaswani:2017aa":{"label":"Vaswani:2017aa","enumerator":"1","html":"Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., Kaiser, L., \u0026 Polosukhin, I. (2017). \u003ci\u003eAttention Is All You Need\u003c/i\u003e. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://arxiv.org/abs/1706.03762\"\u003ehttps://arxiv.org/abs/1706.03762\u003c/a\u003e","url":"https://arxiv.org/abs/1706.03762"},"Bommasani:2022aa":{"label":"Bommasani:2022aa","enumerator":"2","html":"Bommasani, R., Hudson, D. A., Adeli, E., Altman, R., Arora, S., von Arx, S., Bernstein, M. S., Bohg, J., Bosselut, A., Brunskill, E., Brynjolfsson, E., Buch, S., Card, D., Castellon, R., Chatterji, N., Chen, A., Creel, K., Davis, J. Q., Demszky, D., … Liang, P. (2022). \u003ci\u003eOn the Opportunities and Risks of Foundation Models\u003c/i\u003e. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://arxiv.org/abs/2108.07258\"\u003ehttps://arxiv.org/abs/2108.07258\u003c/a\u003e","url":"https://arxiv.org/abs/2108.07258"}}}},"footer":{"navigation":{"prev":{"title":"Introduction","url":"/introduction","group":"Better Code, Better Science"},"next":{"title":"Principles of software engineering","url":"/software-engineering","group":"Better Code, Better Science"}}},"domain":"http://localhost:3000"},"project":{"bibliography":["/home/runner/work/BetterCodeBetterScience/BetterCodeBetterScience/book/references.bib"],"exports":[],"title":"Better Code, Better Science","authors":[{"nameParsed":{"literal":"Russell Poldrack et al.","given":"Russell Poldrack","non_dropping_particle":"et","family":"al."},"name":"Russell Poldrack et al.","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/poldrack/BetterCodeBetterScience","toc":[{"file":"frontmatter.md"},{"file":"introduction.md"},{"file":"essential_tools_and_techniques.md"},{"file":"software_engineering.md"},{"file":"testing.md"},{"file":"AI_coding_assistants.md"},{"file":"project_organization.md"},{"file":"data_management.md"}],"index":"index","pages":[{"slug":"introduction","title":"Introduction","description":"","date":"","thumbnail":"/build/x_poll-abfbc03b9429f4582a63becc61a76b2e.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"essential-tools-and-techniques","title":"Essential tools and techniques","description":"","date":"","thumbnail":"/build/lab_notebook_scan-3b3fce63994a61b58e5b4305835f3bc0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"software-engineering","title":"Principles of software engineering","description":"","date":"","thumbnail":"/build/code_formatting-5f7533d0e3a713101d0fbc3e66a69964.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"testing","title":"Software testing","description":"","date":"","thumbnail":"/build/github_actions_failu-25d4b04ead335da5128a6f4198042f8f.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"ai-coding-assistants","title":"Coding with AI","description":"","date":"","thumbnail":"/build/claudecode_1-4601a738e37b4cde8a7e2fe367fdebb4.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"project-organization","title":"Project structure and management","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"data-management","title":"Data Organization and Management","description":"","date":"","thumbnail":"/build/data_lifecycle_rdmki-c0d23e77929147e6d7b27f41bae7bb87.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-5D5D9E8C.js";
import * as route0 from "/build/root-AA24SA6C.js";
import * as route1 from "/build/routes/$-5SFLQWPV.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-PCJPW7TK.js");</script></body></html>